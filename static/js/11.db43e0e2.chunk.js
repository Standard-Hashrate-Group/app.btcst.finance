(this.webpackJsonp=this.webpackJsonp||[]).push([[11],{1228:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(22),l=a(40),o=a(167),s=a(111),i=a(84);t.a=function(e){var t=Object(l.a)().accent;return r.a.createElement(s.a,{style:{alignItems:"flex-end",height:32,marginBottom:e.disabled?0:c.g.small}},r.a.createElement(i.a,{medium:!0,fontWeight:e.fontWeight||"bold",disabled:e.disabled,style:[{flex:1,fontSize:c.d?24:18,paddingBottom:c.g.tiny},e.style]},e.text),e.buttonText&&r.a.createElement(o.a,{type:"clear",size:"small",title:e.buttonText,onPress:e.onPressButton,color:t,buttonStyle:{paddingHorizontal:c.g.tiny}}))}},1229:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(4),l=a(22),o=a(40);t.a=function(e){var t=Object(o.a)().border;return r.a.createElement(c.a,{style:{height:1,width:"100%",backgroundColor:t,marginTop:e.small?l.g.tiny:l.g.small,marginBottom:e.small?l.g.tiny:l.g.small+l.g.tiny}})}},1230:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(38),l=a(57),o=a(4),s=a(52),i=a(168),d=a(22),u=a(247),m=a(8),g=a.n(m),b=a(10),f=function(e){return r.a.createElement(o.a,g()({},e,{style:[{width:"100%",marginTop:e.noTopMargin?0:"web"===b.a.OS?d.g.large:d.g.normal},e.style]}))},E=a(111),h=a(103),p=a(55),y=a(40),O=function(e){var t=Object(n.useContext)(p.a).darkMode,a=Object(y.a)(),c=a.background,l=a.textLight;return r.a.createElement(h.d,g()({},e,{light:!t,iconColor:t?"white":void 0,style:{backgroundColor:c,borderWidth:1,borderColor:t?"white":l}}))},x=function(){var e=Object(n.useContext)(p.a).darkMode,t=Object(y.a)(),a=t.background,c=t.textLight,l=Object(u.a)("http://twitter.com/BTCST2020","","_blank"),o=Object(u.a)("https://github.com/Standard-Hashrate-Group","","_blank"),s=Object(u.a)("https://btcst.medium.com/","","_blank"),i=Object(u.a)("https://t.me/BTCSTCommunity","","_blank"),d=Object(u.a)("https://discord.com/channels/791170396316893255/791170396765945886","","_blank");return r.a.createElement(E.a,{style:{width:"100%",justifyContent:"center"}},r.a.createElement(O,{type:"github-alt",onPress:o}),r.a.createElement(O,{type:"twitter",onPress:l}),r.a.createElement(O,{type:"medium",onPress:s}),r.a.createElement(O,{type:"telegram",onPress:i}),r.a.createElement(h.b,{type:"material-community",name:"discord",raised:!0,reverse:!0,color:a,reverseColor:e?"white":"#7289da",style:{backgroundColor:a},containerStyle:{borderWidth:1,borderColor:e?"white":c},onPress:d}))},j=a(84),v={us:a(424),uk:a(425),cn:a(426),kr:a(427)},k=function(e){var t=e.name,a=e.locale,n=Object(s.g)(),o=Object(s.h)();return r.a.createElement(l.a,{onPress:function(){n.push(o.pathname+"?locale="+a)},style:{marginHorizontal:4}},r.a.createElement(c.a,{source:v[t],style:{width:30,height:20}}))};t.a=function(){var e=Object(u.a)("https://certik.foundation/","","_blank");return r.a.createElement(f,{noTopMargin:!0},r.a.createElement(o.a,{style:{width:"100%",padding:d.g.normal,alignItems:"center"}},r.a.createElement(l.a,{onPress:e},r.a.createElement(c.a,{source:a(726),style:{width:168,height:40,marginTop:d.g.tiny}})),r.a.createElement(x,null),r.a.createElement(j.a,{note:!0,style:{marginTop:d.g.tiny}},"Built with \u2764\ufe0f by Standard Hashrate (v",i.a.manifest.version,")"),r.a.createElement(E.a,{style:{marginTop:d.g.small}},r.a.createElement(k,{name:"uk",locale:"en"}),r.a.createElement(k,{name:"cn",locale:"zh"}))))}},1242:function(e,t){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}},1368:function(e,t,a){"use strict";a.r(t);var n,r=a(1242),c=a.n(r),l=a(0),o=a.n(l),s=a(248),i=a(10),d=(a(57),a(4)),u=(a(103),a(50)),m=a(431),g=a(1229),b=a(428),f=a(429),E=a(111),h=a(1228),p=a(434),y=a(84),O=a(150),x=a(1230),j=a(22),v=a(78),k=(a(40),a(2)),T=a.n(k),w=a(20),S=a.n(w),C=a(214),I=a.n(C),L=a(432),B=a(44),A=a(28),R=a(41);!function(e){e[e.INIT=0]="INIT",e[e.ARRIVED=1]="ARRIVED",e[e.ROLLEDBACK=2]="ROLLEDBACK",e[e.COMMITED=3]="COMMITED",e[e.WAIT_SELF_CLAIM=4]="WAIT_SELF_CLAIM"}(n||(n={}));var M={0:"initial",1:"arrived",2:"rolledback",3:"commited",4:"claimable"},N=function(){var e=Object(l.useContext)(v.a),t=e.provider,a=e.signer,n=e.address,r=Object(L.c)(),c=r.getUserRecordLen,o=r.getUserRecord,s=r.getUserRecordIndex,i=r.getRecordsOthersideInfo,d=r.getRecordsMeta,m=(r.getRecordsLocalInfo,Object(l.useState)()),g=S()(m,2),b=g[0],f=g[1],E=Object(l.useState)(!0),h=S()(E,2),p=h[0],y=h[1],O=Object(l.useState)(),x=S()(O,2),j=x[0],k=x[1],w=Object(l.useState)(!0),C=S()(w,2),M=C[0],N=C[1],P=Object(l.useState)(),W=S()(P,2),z=W[0],_=W[1],D=Object(l.useState)(!0),H=S()(D,2),V=H[0],F=H[1];return Object(l.useEffect)((function(){f(void 0),y(!0),k(void 0),N(!0),_(void 0),F(!0)}),[n]),I()((function(){return T.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t&&a&&Object(B.h)("ERC20",A.d,a);case 1:case"end":return e.stop()}}),null,null,null,Promise)}),[t,a]),I()((function(){var e,n,r,c;return T.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(!t||!a){l.next=21;break}return N(!0),y(!0),l.prev=3,l.next=6,T.a.awrap(Object(L.i)(t));case 6:if(e=l.sent,Object(R.c)(t)||Object(R.c)(a)){l.next=12;break}return l.next=10,T.a.awrap(Object(L.k)(t));case 10:n=l.sent,e=e.sub(n);case 12:return l.next=14,T.a.awrap(Object(L.h)(t));case 14:r=l.sent,c=r.leftAmount,Object(R.c)(t)?(k(e),f(void 0)):(f(e),k(c));case 17:return l.prev=17,N(!1),y(!1),l.finish(17);case 21:case"end":return l.stop()}}),null,null,[[3,,17,21]],Promise)}),[t,a]),I()((function(){var e,n,r,l,m,g,b,f,E;return T.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(!t||!a){h.next=48;break}if(F(!0),h.prev=2,Object(R.c)(t)||Object(R.c)(a)){h.next=9;break}return h.next=6,T.a.awrap(a.getAddress());case 6:e=h.sent,h.next=11;break;case 9:n=a.provider.provider,e=n.getAccount().hex;case 11:return h.next=13,T.a.awrap(c(e,t));case 13:if(r=h.sent,10,r,r>10&&10,!(r>0)){h.next=45;break}l=[],m=r-1;case 20:if(!(m>=0)){h.next=44;break}if(Object(R.c)(t)||Object(R.c)(a)){h.next=28;break}return h.next=24,T.a.awrap(o(u.BigNumber.from(m),e,t));case 24:g=h.sent,l.push({cts:g.cts,uts:g.uts,otherSideAddress:g.otherSideInfo.otherSideAddress,status:g.status,amount:g.amount,fee:g.bridgeFee,recordType:g.recordType}),h.next=41;break;case 28:return h.next=30,T.a.awrap(o(u.BigNumber.from(m),e,t));case 30:return b=h.sent,h.next=33,T.a.awrap(s(u.BigNumber.from(m),e,t));case 33:return h.sent,h.next=36,T.a.awrap(d(u.BigNumber.from(m),t));case 36:return f=h.sent,h.next=39,T.a.awrap(i(u.BigNumber.from(m),t));case 39:E=h.sent,l.push({cts:f[4],uts:f[5],otherSideAddress:E[0],status:f[1],amount:f[0],fee:f[3],recordType:b[0]});case 41:m--,h.next=20;break;case 44:_(l);case 45:return h.prev=45,F(!1),h.finish(45);case 48:case"end":return h.stop()}}),null,null,[[2,,45,48]],Promise)}),[t,a]),{totalLockedBTCST:b,loadingTotalLocked:p,bridgedToTron:j,loadingbridgedToTron:M,records:z,loadingRecords:V}},P=a(54),W=a(430),z=a(433),_=function(e){var t=e.state;return o.a.createElement(d.a,{style:{marginTop:j.d?j.g.large:j.g.normal}},o.a.createElement(D,{state:t}),o.a.createElement(g.a,null),o.a.createElement(d.a,{style:{height:j.g.tiny}}),o.a.createElement(H,{state:t}))},D=function(e){var t=e.state,a=Object(P.a)(),n=Object(l.useContext)(v.a);c()(n);var r=t.bridgedToTron,s=t.loadingbridgedToTron;return o.a.createElement(d.a,null,o.a.createElement(h.a,{text:a("ourBridge.already-bridged-to-tron"),style:{flex:1,fontSize:28}}),o.a.createElement(O.a,{text:s||void 0==r?a("fetching"):Object(B.d)(r,17,8),fontWeight:"light",disabled:s,style:{fontSize:j.d?32:24}}))},H=function(e){var t=e.state,a=Object(P.a)();return o.a.createElement(d.a,null,o.a.createElement(h.a,{text:a("ourBridge.your-bridge-records")}),o.a.createElement(V,{loading:t.loadingRecords,records:t.records,recordItem:U}))},V=function(e){var t=Object(P.a)(),a=Object(l.useCallback)((function(t){var a=t.item;return o.a.createElement(e.recordItem,{key:a.cts,record:a})}),[]),n=Object(l.useMemo)((function(){return(e.records||[]).sort((function(e,t){return(t.cts.toNumber()||0)-(e.cts.toNumber()||0)}))}),[e.records]);return e.loading?o.a.createElement(p.a,null):0===n.length?o.a.createElement(F,null):o.a.createElement(d.a,null,o.a.createElement(E.a,{style:{alignItems:"center",paddingHorizontal:j.g.tiny,paddingVertical:4}},o.a.createElement(d.a,{style:{flex:1,alignItems:"flex-start"}},o.a.createElement(y.a,{caption:!0,numberOfLines:1,fontWeight:"light"},t("date"))),o.a.createElement(d.a,null,o.a.createElement(y.a,{caption:!0,numberOfLines:1,style:{marginLeft:j.g.small}},t("ourBridge.to"))),o.a.createElement(d.a,null,o.a.createElement(y.a,{caption:!0,numberOfLines:1,style:{marginLeft:j.g.small}},t("ourBridge.amount/fee"))),o.a.createElement(d.a,{style:{flex:1,alignItems:"flex-end"}},o.a.createElement(y.a,{caption:!0,fontWeight:"light"},t("status")))),o.a.createElement(s.a,{keyExtractor:function(e){return e.cts.toString()},data:n,renderItem:a,ItemSeparatorComponent:function(){return o.a.createElement(g.a,{small:!0})}}))},F=function(){var e=Object(P.a)();return o.a.createElement(d.a,{style:{margin:j.g.normal}},o.a.createElement(y.a,{disabled:!0,style:{textAlign:"center",width:"100%"}},e("ourBridge.empty-bride-records")))},U=function(e){var t=Object(P.a)(),a=e.record;console.log("record",a);var n=a.status.toNumber();return Date.now()>1e3*a.cts.toNumber()+36e3&&0==n&&(n=1),o.a.createElement(E.a,{style:{alignItems:"center",paddingHorizontal:j.g.tiny,paddingVertical:4}},o.a.createElement(d.a,{style:{flex:1,alignItems:"flex-start"}},o.a.createElement(y.a,{caption:!0,numberOfLines:1,fontWeight:"light",disabled:e.disabled},Object(B.e)(a.cts))),o.a.createElement(d.a,null,o.a.createElement(y.a,{caption:!0,numberOfLines:1,style:{marginLeft:j.g.small},disabled:e.disabled},Object(B.g)(a.otherSideAddress))),o.a.createElement(d.a,null,o.a.createElement(y.a,{caption:!0,numberOfLines:1,style:{marginLeft:j.g.small},disabled:e.disabled},Object(B.d)(a.amount||0,17)+"/"+Object(B.d)(a.fee||0,17))),o.a.createElement(d.a,{style:{flex:1,alignItems:"flex-end"}},o.a.createElement(y.a,{caption:!0,fontWeight:"light",disabled:e.disabled},t("ourBridge."+M[n]))))};t.default=function(){var e=Object(P.a)(),t=N(),a=Object(l.useContext)(v.a);c()(a);var n=t.loadingTotalLocked,r=t.totalLockedBTCST;return o.a.createElement(W.a,null,o.a.createElement(b.a,null,o.a.createElement(m.a,null),o.a.createElement(f.a,{style:{paddingBottom:j.g.huge}},o.a.createElement(O.a,{text:e("ourBridge.stay-on-BSC"),style:{flex:1,fontSize:28}}),o.a.createElement(O.a,{text:n?e("fetching"):void 0==r?"N/A":Object(B.d)(r,17,8),fontWeight:"light",disabled:n,style:{fontSize:j.d?32:24}}),o.a.createElement(_,{state:t})),"web"===i.a.OS&&o.a.createElement(x.a,null)),o.a.createElement(z.a,null))}}}]);
//# sourceMappingURL=11.db43e0e2.chunk.js.map