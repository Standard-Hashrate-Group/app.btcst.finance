{"version":3,"sources":["service/index.ts","utils/index.ts","utils/analytics.ts","components/Footer.tsx","components/Page.tsx","hooks/useFetchTokenPrice.ts","views/errors/NotFoundView.tsx"],"names":["RAMOUNT_DIVIDER","BigNumber","from","pow","getTVL","a","axios","get","response","data","getTXInfo","getTokenPrice","BTCB","max_supply","name","price","BTC","symbol","total_supply","TBTC","getMineStatus","totalSupply","contract","undefined","getTotalPendingReward","address","account","claimAllReward","TARGET_INITIAL_SUPPLY","getPoolInfo","index","poolInfo","alreadyMinedReward","merkleTotalAlreadyClaimed","viewFarmBasicInfo","Promise","all","map","field","callStatic","e","console","log","started","stakePeriod","desc","getDailyRecords","FarmContract","farmInfo","tokenAddress","arr","now","Date","go","k","getTimeKey","push","viewRoundSlot","length","Object","assign","timeKey","_roundSlotsReward","rewardInfo","rAmount","rAccum","rAccumulateAmount","div","rewardLastSubmiter","rewardAmount","rewardAccumulateAmount","totalStaked","stakedLowestWaterMark","totalStakedInSlot","stakedAddresses","isEmptyValue","text","isBigNumber","isZero","replace","time","baseTime","toNumber","Error","passed","Math","round","end","calculateDailyReward","hashrate","dailyBtcPerHash","btcPrice","dailyEstimated","mulUnsafe","powerPrice","FixedNumber","divUnsafe","powerPerHashUnitDay","dailyBTCNetreward","subUnsafe","dailyEstimatedUSD","btc","usd","WEEEK_REWARD_MAP","START_TIME","getDailyRewardsByBlock","pair","getTime","floor","track","window","gtag","props","process","REACT_APP_GA_MEASUREMENT_ID","useStyles","makeStyles","theme","footer","position","bottom","left","right","backgroundColor","palette","background","paper","boxShadow","paddingTop","paddingBottom","Footer","className","classes","useWeb3React","actionRef","useRef","setWalletModalStatus","useSetRecoilState","walletModalStatusAtom","setAccountModalStatus","accountModalStatusAtom","connectWallet","useCallback","openAccountModal","React","useState","anchorEl","setAnchorEl","Hidden","lgUp","Container","maxWidth","Box","display","alignItems","justifyContent","flexGrow","ml","Button","variant","onClick","slice","color","ref","p","event","currentTarget","Menu","keepMounted","open","Boolean","onClose","MenuItem","i18n","changeLanguage","selected","language","Page","forwardRef","children","title","rest","location","useLocation","setTokenPriceList","tokenPriceListAtom","setTokenPriceLoading","tokenPriceLoadingAtom","useEffect","then","list","finally","useFetchTokenPrice","sendPageViewEvent","page_path","pathname","Helmet","root","dark","minHeight","padding","spacing","image","width","maxHeight","height","NotFoundView","useTheme","mobileDevice","useMediaQuery","breakpoints","down","align","mt","alt","src","component","RouterLink","to"],"mappings":"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","file":"static/js/16.68ebfefd.chunk.js","sourcesContent":["import { BigNumber } from '@ethersproject/bignumber';\nimport axios from 'axios';\nimport { contractConfig } from 'src/config';\nimport { parseBalance } from 'src/utils/format';\nimport { AirdropInfo } from 'src/utils/airdrop';\nimport { getTimeKey } from 'src/utils';\nimport { PriceItem } from 'src/types/token';\n\nconst BATCH_LOAD_RECORD_LIMIT = 5;\nconst RAMOUNT_DIVIDER = BigNumber.from(1e8).pow(BigNumber.from(4));\nconst TBTC_RATE = 1.00;\n\ntype Response<T> = {\n  code: number;\n  data: T;\n  msg?: any;\n};\n\nexport type TokenPriceList = {\n  [key: string]: PriceItem;\n};\n\nexport async function getTVL() {\n  const response = await axios.get('https://api.1-b.tc/api/tvl/');\n\n  return response.data;\n}\n\nexport async function getTXInfo() {\n  const response = await axios.get('https://api.1-b.tc/api/getTXInfo/');\n\n  return response.data;\n}\n\nexport async function getTokenPrice() {\n  try {\n    const response = await axios.get<Response<TokenPriceList>>(\n      'https://api.1-b.tc/api/token/price'\n    );\n    const data = response.data.data;\n\n    data.BTCB = {\n      max_supply: null,\n      name: 'BTCB',\n      price: data.BTC.price,\n      symbol: 'BTCB',\n      total_supply: null\n    };\n\n    data.TBTC = {\n      max_supply: 2100,\n      name: '𝜏Bitcoin',\n      price: data.BTC.price * TBTC_RATE,\n      symbol: 'TBTC',\n      total_supply: null\n    };\n\n    return data;\n  } catch (e) {\n    return {};\n  }\n}\n\nexport async function getMineStatus() {\n  const response = await axios.get(\n    'https://584xqc7ik2.execute-api.us-east-2.amazonaws.com/beta/bp-relay'\n  );\n\n  return response.data.data;\n}\n\nexport async function getTotalStakedBTCST(contract: any, account: any) {\n  if (contract && account) {\n    return contract.viewAllTimeTotalMined();\n  }\n\n  return undefined;\n}\n\nexport async function getTotalMinedRTokenInpool(contract: any) {\n  if (contract) {\n    return contract.viewAllTimeTotalMined();\n  }\n\n  return undefined;\n}\n\nexport async function getBTCInPool(contract: any) {\n  if (contract) {\n    return contract.balanceOf(contractConfig.FARM);\n  }\n\n  return undefined;\n}\n\nexport async function totalSupply(contract: any) {\n  if (contract) {\n    return contract.totalSupply();\n  }\n  return undefined;\n}\n\nexport async function getNextRebaseDate(estPolicyContract: any) {\n  if (estPolicyContract) {\n    let nextTime = await getNextRebaseTimeInSeconds(estPolicyContract);\n    let ms = nextTime.mul(1000).toNumber();\n    if (ms < Date.now()) {\n      return undefined;\n    }\n    console.log('nextTime', ms);\n    return new Date(ms);\n  }\n  return undefined;\n}\n\nexport async function getNextRebaseTimeInSeconds(estPolicyContract: any) {\n  if (estPolicyContract) {\n    const lastRebaseTime = await estPolicyContract.lastRebaseTimestampSec();\n    const interval = await estPolicyContract.minRebaseTimeIntervalSec();\n    return lastRebaseTime.add(interval);\n  }\n}\n\nexport async function getTotalRemainingSupplyLocked(contract: any) {\n  if (contract) {\n    return contract.getTotalRemainingSupplyLocked();\n  }\n  return undefined;\n}\n\nexport async function getTimeWeightedPrice(contract: any) {\n  if (contract) {\n    const data = await contract.getSwapData();\n    if (BigNumber.from(0).eq(data)) {\n      //0 indicates that swap didn't inited, we make it default 1e18/1e18 means one\n      return BigNumber.from(10 ** 18 + '');\n    }\n    return data;\n  }\n  return undefined;\n}\n\nexport async function startBlock(contract: any) {\n  if (contract) {\n    return contract.startBlock();\n  }\n  return undefined;\n}\nexport async function getTokenAllowance(\n  contract: any,\n  account: string,\n  spender: string\n) {\n  if (contract && account) {\n    return contract.allowance(account, spender);\n  }\n  return undefined;\n}\n\nexport async function viewUserInfo(contract: any, account: string) {\n  if (contract && account) {\n    return contract.viewUserInfo(account);\n  }\n}\n\n// TODO: remove mock here\nexport async function getBalance(contract: any, account: string) {\n  if (contract && account) {\n    return contract.balanceOf(account);\n  }\n\n  return undefined;\n}\n\nexport async function getTotalPendingReward(\n  contract: any,\n  address: string,\n  account: string\n) {\n  if (contract && account && address) {\n    return contract.getTotalPendingReward(address, account);\n  }\n\n  return undefined;\n}\n\nexport async function claimAllReward(contract: any, account: string) {\n  if (contract && account) {\n    return contract.claimAllReward(account);\n  }\n\n  return undefined;\n}\n\nexport async function TARGET_INITIAL_SUPPLY(contract: any) {\n  if (contract) {\n    return contract.TARGET_INITIAL_SUPPLY();\n  }\n  return undefined;\n}\n\nexport async function getPoolInfo(contract: any,index: number){\n  if (contract ) {\n    return contract.poolInfo(index);\n  }\n  return undefined;\n}\nexport async function alreadyMinedReward(contract: any) {\n  if (contract) {\n    return contract.alreadyMinedReward();\n  }\n  return undefined;\n}\n\nexport async function merkleTotalAlreadyClaimed(contract: any) {\n  if (contract) {\n    return contract.merkleTotalAlreadyClaimed();\n  }\n  return undefined;\n}\n\nexport async function viewFarmBasicInfo(contract: any) {\n  const data = await Promise.all(\n    ['_farmStartedTime', '_miniStakePeriodInSeconds', '_farmDescription'].map(\n      field => {\n        try {\n          return contract.callStatic[field]();\n        } catch (e) {\n          console.log(e);\n          return '';\n        }\n      }\n    )\n  );\n  return {\n    started: data[0],\n    stakePeriod: data[1],\n    desc: data[2]\n  };\n}\n\nexport async function getDailyRecords(\n  FarmContract: any,\n  farmInfo: any,\n  tokenAddress: string\n) {\n  let arr: number[] = [];\n  let now = Date.now() / 1000;\n\n  if (!farmInfo) {\n    return undefined;\n  }\n\n  for (let index = 0; index < BATCH_LOAD_RECORD_LIMIT; index++) {\n    let go = now - index * farmInfo.stakePeriod;\n    if (go <= farmInfo.started) {\n      break;\n    }\n    let k = getTimeKey(go, farmInfo.started, farmInfo.stakePeriod);\n    arr.push(k);\n  }\n  let data = await Promise.all(\n    arr.map(field => {\n      try {\n        return FarmContract.viewRoundSlot(field);\n      } catch (e) {\n        return '';\n      }\n    })\n  );\n  for (let index = 0; index < arr.length; index++) {\n    data[index] = Object.assign({}, data[index], {\n      timeKey: arr[index]\n    });\n    let rewardInfo = await FarmContract._roundSlotsReward(\n      arr[index],\n      tokenAddress\n    );\n\n    let rAmount = rewardInfo.rAmount;\n    let rAccum = rewardInfo.rAccumulateAmount;\n    if (rewardInfo.rAmount) {\n      rAmount = rewardInfo.rAmount.div(RAMOUNT_DIVIDER);\n    }\n    if (rewardInfo.rAccumulateAmount) {\n      rAccum = rewardInfo.rAccumulateAmount.div(RAMOUNT_DIVIDER);\n    }\n    data[index] = {\n      rewardLastSubmiter: data[index]['rewardLastSubmiter'],\n      rewardAmount: rAmount,\n      rewardAccumulateAmount: rAccum,\n      totalStaked: data[index]['totalStaked'],\n      stakedLowestWaterMark: data[index]['stakedLowestWaterMark'],\n      totalStakedInSlot: data[index]['totalStakedInSlot'],\n      stakedAddresses: data[index]['stakedAddresses'],\n      timeKey: arr[index]\n    };\n  }\n\n  return data;\n}\n","import { BigNumber, FixedNumber } from 'ethers';\nimport { JSBI, Percent } from '@pancakeswap-libs/sdk';\n\n// add 10%\nexport function calculateGasMargin(value: BigNumber): BigNumber {\n  return value\n    .mul(BigNumber.from(10000).add(BigNumber.from(1000)))\n    .div(BigNumber.from(10000));\n}\n\n// converts a basis points value to a sdk percent\nexport function basisPointsToPercent(num: number): Percent {\n  return new Percent(JSBI.BigInt(Math.floor(num)), JSBI.BigInt(10000));\n}\n\nexport const isEmptyValue = (text: string) =>\n  BigNumber.isBigNumber(text)\n    ? BigNumber.from(text).isZero()\n    : text === '' || text.replace(/0/g, '').replace(/\\./, '') === '';\n\nexport const formatTimeKey2 = (value: number) => {\n  const date = new Date(value * 1000);\n  return date.toLocaleDateString('zh-cn');\n};\n\nexport function getTimeKey(time, baseTime, stakePeriod) {\n  baseTime = baseTime.toNumber();\n  stakePeriod = stakePeriod.toNumber();\n  if (time < baseTime) {\n    throw new Error('time < farm started time');\n  }\n  let passed = Math.round(time - baseTime);\n  let round = Math.round(passed / stakePeriod);\n  let end = baseTime + round * stakePeriod;\n  if (end < time) {\n    return end + stakePeriod;\n  }\n  return end;\n}\n\nexport const calculateDailyReward = (\n  hashrate: FixedNumber,\n  dailyBtcPerHash: FixedNumber,\n  btcPrice: FixedNumber\n) => {\n  const dailyEstimated = hashrate.mulUnsafe(dailyBtcPerHash);\n  const powerPrice = FixedNumber.from(5846)\n    .divUnsafe(FixedNumber.from(1000 * 1000 * 100))\n    .mulUnsafe(FixedNumber.from(103))\n    .divUnsafe(FixedNumber.from(100));\n  const powerPerHashUnitDay = FixedNumber.from(60).mulUnsafe(\n    FixedNumber.from(24)\n  );\n  let dailyBTCNetreward = dailyEstimated.subUnsafe(\n    powerPerHashUnitDay\n      .mulUnsafe(powerPrice)\n      .mulUnsafe(hashrate)\n      .divUnsafe(btcPrice)\n  );\n  let dailyEstimatedUSD = dailyBTCNetreward.mulUnsafe(btcPrice).round(6);\n  dailyBTCNetreward = dailyBTCNetreward.round(6);\n  return { btc: dailyBTCNetreward, usd: dailyEstimatedUSD };\n};\nconst WEEEK_REWARD_MAP =[\n  82.823529216,\n  41.411764608,\n  20.705882304,\n  10.352941152,\n  5.176470576,\n  2.588235288,\n  1.294117644,\n  0.647058822,0];\nconst START_TIME = new Date('2021-04-02 20:00 GMT+0800');\n\nexport function getDailyRewardsByBlock(pair: string) {\n  console.log(`get ${pair} rewards`);\n  let now = Date.now();\n  if (now<START_TIME.getTime()){\n    now = START_TIME.getTime()+1000;\n  }\n  let index = Math.floor((now-START_TIME.getTime())/(7*86400*1000));\n  if (index>=8){\n    index =8;\n  }\n  return FixedNumber.from(WEEEK_REWARD_MAP[index]+\"\");\n}\n","declare const window: any;\n\nconst track = (...args: any[]): void => {\n  if (process.env.NODE_ENV !== 'production') {\n    return;\n  }\n\n  if (!window.gtag) {\n    return;\n  }\n\n  window.gtag(...args);\n};\n\nconst pageview = (props: any): void => {\n  track('config', process.env.REACT_APP_GA_MEASUREMENT_ID, props);\n};\n\nconst event = (type: string, props: Record<string, any>) => {\n  track('event', type, props);\n};\n\nexport default {\n  pageview,\n  event\n};\n","import React, { useCallback, useRef } from 'react';\nimport type { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {\n  Button,\n  SvgIcon,\n  Typography,\n  makeStyles,\n  Box,\n  Toolbar,\n  Hidden,\n  IconButton,\n  Container,\n  ButtonGroup,\n  Menu,\n  MenuItem\n} from '@material-ui/core';\nimport LanguageIcon from '@material-ui/icons/Language';\nimport { Menu as MenuIcon } from 'react-feather';\nimport { useWeb3React } from '@web3-react/core';\nimport { useSetRecoilState } from 'recoil';\nimport { mobileNavOpenAtom, walletModalStatusAtom, accountModalStatusAtom } from 'src/atoms';\nimport i18n from 'src/i18n';\n\ninterface FooterProps {\n  className?: string;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  footer: {\n    position: 'fixed',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: '0px 5px 10px 0px rgb(255 255 255 / 70%)',\n    paddingTop: 16,\n    paddingBottom: 16\n  }\n}));\n\nconst Footer: FC<FooterProps> = ({ className, ...rest }) => {\n  const classes = useStyles();\n  const { account } = useWeb3React();\n  const actionRef = useRef<any>(null);\n  const setWalletModalStatus = useSetRecoilState(walletModalStatusAtom);\n  const setAccountModalStatus = useSetRecoilState(accountModalStatusAtom);\n\n  const connectWallet = useCallback(() => {\n    setWalletModalStatus(true);\n  }, [setWalletModalStatus]);\n\n  const openAccountModal = useCallback(() => {\n    setAccountModalStatus(true);\n  }, [setAccountModalStatus]);\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <Hidden lgUp>\n      <Container maxWidth={false}>\n        <Box\n          display=\"flex\"\n          alignItems=\"center\"\n          justifyContent=\"space-between\"\n          flexGrow={1}\n          className={classes.footer}\n        >\n          <Box ml={2}>\n            {\n              account\n                ? <Button variant=\"contained\" onClick={openAccountModal}>{`${account.slice(0, 4)}...${account.slice(-4)}`}</Button>\n                : <Button variant=\"contained\" color=\"primary\" ref={actionRef} onClick={connectWallet}>Connect Wallet</Button>\n            }\n          </Box>\n          <Box p={0}>\n            <Button onClick={(event) => setAnchorEl(event.currentTarget)}>\n              <LanguageIcon />\n            </Button>\n            <Menu\n              anchorEl={anchorEl}\n              keepMounted\n              open={Boolean(anchorEl)}\n              onClose={() => setAnchorEl(null)}\n            >\n              <MenuItem\n                onClick={() => {\n                  i18n.changeLanguage('zh');\n                  setAnchorEl(null);\n                }}\n                selected={i18n.language === 'zh'}\n              >中文</MenuItem>\n              <MenuItem\n                onClick={() => {\n                  i18n.changeLanguage('en');\n                  setAnchorEl(null);\n                }}\n                selected={i18n.language === 'en'}\n              >EN</MenuItem>\n            </Menu>\n          </Box>\n        </Box>\n      </Container>\n    </Hidden>\n  );\n};\n\nFooter.propTypes = {\n  className: PropTypes.string\n};\n\nexport default Footer;\n","import React, {\n  forwardRef,\n  useEffect,\n  useCallback\n} from 'react';\nimport type {\n  HTMLProps,\n  ReactNode\n} from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport track from 'src/utils/analytics';\nimport Footer from './Footer';\nimport { useFetchTokenPrice } from 'src/hooks/useFetchTokenPrice';\n\ninterface PageProps extends HTMLProps<HTMLDivElement> {\n  children?: ReactNode;\n  title?: string;\n}\n\nconst Page = forwardRef<HTMLDivElement, PageProps>(({\n  children,\n  title = '',\n  ...rest\n}, ref) => {\n  const location = useLocation();\n  useFetchTokenPrice();\n\n  const sendPageViewEvent = useCallback(() => {\n    track.pageview({\n      page_path: location.pathname\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    sendPageViewEvent();\n  }, [sendPageViewEvent]);\n\n  return (\n    <div\n      ref={ref as any}\n      {...rest}\n    >\n      <Helmet>\n        <title>{title}</title>\n      </Helmet>\n      {children}\n      <Footer />\n    </div>\n  );\n});\n\nPage.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string\n};\n\nexport default Page;\n","import { useEffect } from 'react';\nimport { useSetRecoilState } from 'recoil';\nimport { tokenPriceListAtom, tokenPriceLoadingAtom } from 'src/atoms';\nimport { getTokenPrice, TokenPriceList } from 'src/service';\n\nexport function useFetchTokenPrice() {\n  const setTokenPriceList = useSetRecoilState(tokenPriceListAtom);\n  const setTokenPriceLoading = useSetRecoilState(tokenPriceLoadingAtom);\n\n  useEffect(() => {\n    setTokenPriceLoading(true);\n    getTokenPrice().then(list => {\n      setTokenPriceList(list);\n    }).finally(() => {\n      setTokenPriceLoading(false);\n    });\n  }, []);\n}\n","import React from 'react';\nimport type { FC } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {\n  Box,\n  Button,\n  Container,\n  Typography,\n  useTheme,\n  useMediaQuery,\n  makeStyles\n} from '@material-ui/core';\nimport type { Theme } from 'src/theme';\nimport Page from 'src/components/Page';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    minHeight: '100%',\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(3),\n    paddingTop: 80,\n    paddingBottom: 80\n  },\n  image: {\n    maxWidth: '100%',\n    width: 560,\n    maxHeight: 300,\n    height: 'auto'\n  }\n}));\n\nconst NotFoundView: FC = () => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const mobileDevice = useMediaQuery(theme.breakpoints.down('sm'));\n\n  return (\n    <Page\n      className={classes.root}\n      title=\"404: Not found\"\n    >\n      <Container maxWidth=\"lg\">\n        <Typography\n          align=\"center\"\n          variant={mobileDevice ? 'h4' : 'h1'}\n          color=\"textPrimary\"\n        >\n          404: The page you are looking for isn’t here\n        </Typography>\n        <Typography\n          align=\"center\"\n          variant=\"subtitle2\"\n          color=\"textSecondary\"\n        >\n          You either tried some shady route or you\n          came here by mistake. Whichever it is, try using the navigation.\n        </Typography>\n        <Box\n          mt={6}\n          display=\"flex\"\n          justifyContent=\"center\"\n        >\n          <img\n            alt=\"Under development\"\n            className={classes.image}\n            src=\"/static/images/undraw_page_not_found_su7k.svg\"\n          />\n        </Box>\n        <Box\n          mt={6}\n          display=\"flex\"\n          justifyContent=\"center\"\n        >\n          <Button\n            color=\"secondary\"\n            component={RouterLink}\n            to=\"/\"\n            variant=\"outlined\"\n          >\n            Back to home\n          </Button>\n        </Box>\n      </Container>\n    </Page>\n  );\n};\n\nexport default NotFoundView;\n"],"sourceRoot":""}