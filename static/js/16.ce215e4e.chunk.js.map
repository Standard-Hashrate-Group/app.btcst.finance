{"version":3,"sources":["service/index.ts","utils/contract.ts","hooks/useActiveWeb3React.ts","utils/index.ts","hooks/useLatestExpandAmount.ts","utils/analytics.ts","components/Footer.tsx","components/Page.tsx","hooks/useFetchTokenPrice.ts","views/errors/NotFoundView.tsx"],"names":["RAMOUNT_DIVIDER","BigNumber","from","pow","getAirdrops","account","a","axios","get","toLowerCase","response","data","isEmpty","airdrop","token","TBTC","index","fullAmount","amount","proof","flags","details","getTDOGEAirdrops","TDOGE","getTokensInfo","getNFTInfo","blockchain","contract","nftId","getTokenPrice","BTCB","max_supply","name","price","BTC","symbol","total_supply","DOGE","getMineStatus","totalSupply","undefined","getTotalPendingReward","address","claimAllReward","estimateGas","gasLimit","mul","div","claimOneReward","claimReward","TARGET_INITIAL_SUPPLY","getPoolInfo","poolInfo","alreadyMinedReward","merkleTotalAlreadyClaimed","viewFarmBasicInfo","Promise","all","map","field","callStatic","e","console","log","started","stakePeriod","desc","getDailyRecords","FarmContract","farmInfo","tokenAddress","arr","now","Date","go","k","getTimeKey","push","viewRoundSlot","length","Object","assign","timeKey","_roundSlotsReward","rewardInfo","rAmount","rAccum","rAccumulateAmount","rewardLastSubmiter","rewardAmount","rewardAccumulateAmount","totalStaked","stakedLowestWaterMark","totalStakedInSlot","stakedAddresses","getLatestRebaseRecord","Number","getRebaseRecordsLen","toNumber","recordLength","rebaseRecords","record","getNewExpandRate","_getNewExpandBase","base","teamRebaseSplit","team","result","FixedNumber","subUnsafe","divUnsafe","toString","getLatestExpandAmount","chefContract","policyContract","rate","requestedSupplyAdjustment","isZero","rs","mulUnsafe","dotIndex","split","findIndex","s","parseFixed","slice","getContract","ABI","library","value","getAddress","isAddress","AddressZero","Error","Contract","getSigner","connectUnchecked","getProviderOrSigner","getERC20Contract","IBEP20","abi","getNFTContract","NFT","getFarmBTCSTContract","FARMBTCST","getTBTCChefContract","TBTCChef","getTBTCESTPolicyContract","TBTCESTPolicy","getMCContract","MasterCollector","useActiveWeb3React","context","useWeb3ReactCore","contextNetwork","NetworkContextName","active","isEmptyValue","text","isBigNumber","replace","time","baseTime","passed","Math","round","end","calculateDailyReward","hashrate","dailyBtcPerHash","btcPrice","dailyEstimated","powerPrice","powerPerHashUnitDay","dailyBTCNetreward","dailyEstimatedUSD","btc","usd","WEEEK_REWARD_MAP","TOTAL_REWARD_MAP","btcst","btcb","tbtc","getDailyRewardsByBlock","sourceToken","targetToken","latestExpandAmount","utils","formatUnits","decimals","START_TIME","floor","total","before","MiningRewardTotal","after","addUnsafe","isNegative","DOGE_WEEEK_REWARD_MAP","DOGE_TOTAL_REWARD_MAP","doge","tdoge","getDOGEDailyRewardsByBlock","DOGE_START_TIME","DOGE_MiningRewardTotal","useFetchLatestExpandAmount","setTDogeLatestExpandAmount","useSetRecoilState","tDogeLatestExpandAmountAtom","setTBTCLatestExpandAmount","tBTCLatestExpandAmountAtom","TBTCSTPolicyContract","useMemo","contractConfig","TBTC_POLICY","TBTCChefContract","TBTC_CHEF","TDOGEESTPolicyContract","TDOGE_POLICY","TDOGEChefContract","TDOGE_CHEF","useEffect","then","useGetLatestExpandAmount","tdogeAmount","useRecoilValue","tbtcAmount","track","window","gtag","props","process","REACT_APP_GA_MEASUREMENT_ID","useStyles","makeStyles","theme","footer","position","bottom","left","right","backgroundColor","palette","background","paper","boxShadow","paddingTop","paddingBottom","Footer","className","classes","useWeb3React","actionRef","useRef","setWalletModalStatus","walletModalStatusAtom","setAccountModalStatus","accountModalStatusAtom","connectWallet","useCallback","openAccountModal","React","useState","anchorEl","setAnchorEl","Hidden","lgUp","Container","maxWidth","Box","display","alignItems","justifyContent","flexGrow","ml","Button","variant","onClick","color","ref","p","event","currentTarget","Menu","keepMounted","open","Boolean","onClose","MenuItem","i18n","changeLanguage","selected","language","Page","forwardRef","children","title","rest","location","useLocation","setTokenPriceList","tokenPriceListAtom","setTokenPriceLoading","tokenPriceLoadingAtom","localStorage","getItem","list","JSON","parse","setItem","stringify","finally","useFetchTokenPrice","sendPageViewEvent","page_path","pathname","Helmet","root","dark","minHeight","padding","spacing","image","width","maxHeight","height","NotFoundView","useTheme","mobileDevice","useMediaQuery","breakpoints","down","align","mt","alt","src","component","RouterLink","to"],"mappings":"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","file":"static/js/16.ce215e4e.chunk.js","sourcesContent":["import { BigNumber, FixedNumber, parseFixed } from '@ethersproject/bignumber';\nimport axios from 'axios';\nimport { contractConfig } from 'src/config';\nimport { parseBalance } from 'src/utils/format';\nimport { AirdropInfo } from 'src/utils/airdrop';\nimport { getTimeKey } from 'src/utils';\nimport { PriceItem } from 'src/types/token';\nimport { TBTC, TDOGE } from 'src/constants/token';\nimport isEmpty from 'lodash/isEmpty';\n\nconst BATCH_LOAD_RECORD_LIMIT = 5;\nconst RAMOUNT_DIVIDER = BigNumber.from(1e8).pow(BigNumber.from(4));\nconst TBTC_RATE = 1.0;\n\ntype Response<T> = {\n  code: number;\n  data: T;\n  msg?: any;\n};\n\nexport type TokenPriceList = {\n  [key: string]: PriceItem;\n};\n\nexport async function getAirdrops(account: string) {\n  try {\n    const response = await axios.get(\n      `https://api.1-b.tc/api/airdrop/${account.toLowerCase()}`\n    );\n\n    const data = response.data?.data;\n    if (!data || isEmpty(data)) {\n      return null;\n    }\n\n    const airdrop: AirdropInfo = {\n      token: TBTC,\n      index: BigNumber.from(data.index),\n      fullAmount: BigNumber.from(data.amount),\n      proof: data.proof,\n      flags: data.flags,\n      details: data.details\n    };\n\n    return airdrop;\n  } catch (e) {\n    return null;\n  }\n}\n\nexport async function getTDOGEAirdrops(account: string) {\n  try {\n    const response = await axios.get(\n      `https://api.1-b.tc/api/dogeairdrop/${account.toLowerCase()}`\n    );\n\n    const data = response.data?.data;\n    if (!data || isEmpty(data)) {\n      return null;\n    }\n\n    const airdrop: AirdropInfo = {\n      token: TDOGE,\n      index: BigNumber.from(data.index),\n      fullAmount: BigNumber.from(data.amount),\n      proof: data.proof,\n      flags: data.flags,\n      details: data.details\n    };\n\n    return airdrop;\n  } catch (e) {\n    return null;\n  }\n}\n\nexport async function getTVL() {\n  const response = await axios.get('https://api.1-b.tc/api/tvl/');\n\n  return response.data;\n}\n\nexport async function getTXInfo() {\n  const response = await axios.get('https://api.1-b.tc/api/btcstInfo');\n\n  return response.data;\n}\n\nexport async function getTokensInfo() {\n  const response = await axios.get('https://api.1-b.tc/api/tokensInfo');\n\n  return response.data;\n}\n\nexport async function getNFTInfo(\n  blockchain: string,\n  contract: string,\n  nftId: string\n) {\n  const response = await axios.get(\n    `https://api.1-b.tc/api/nft/find?blockchain=${blockchain}&contract=${contract}&nftId=${nftId}`\n  );\n\n  return response.data;\n}\n\nexport async function getTokenPrice() {\n  try {\n    const response = await axios.get<Response<TokenPriceList>>(\n      'https://api.1-b.tc/api/token/price'\n    );\n    const data = response.data.data;\n\n    if (!data.BTCB) {\n      data.BTCB = {\n        max_supply: null,\n        name: 'BTCB',\n        price: data.BTC.price,\n        symbol: 'BTCB',\n        total_supply: null\n      };\n    }\n\n    if (!data.TBTC) {\n      data.TBTC = {\n        max_supply: 2100,\n        name: '𝜏Bitcoin',\n        price: data.BTC.price * TBTC_RATE,\n        symbol: 'TBTC',\n        total_supply: null\n      };\n    }\n\n    if (!data.DOGE) {\n      data.DOGE = {\n        max_supply: null,\n        name: 'Doge',\n        price: data.TDOGE.price,\n        symbol: 'DOGE',\n        total_supply: null\n      };\n    }\n\n    return data;\n  } catch (e) {\n    return {};\n  }\n}\n\nexport async function getMineStatus() {\n  const response = await axios.get(\n    'https://584xqc7ik2.execute-api.us-east-2.amazonaws.com/beta/bp-relay'\n  );\n\n  return response.data.data;\n}\n\nexport async function getTotalStakedBTCST(contract: any, account: any) {\n  if (contract && account) {\n    return contract.viewAllTimeTotalMined();\n  }\n\n  return undefined;\n}\n\nexport async function getTotalMinedRTokenInpool(contract: any) {\n  if (contract) {\n    return contract.viewAllTimeTotalMined();\n  }\n\n  return undefined;\n}\n\nexport async function getBTCInPool(contract: any) {\n  if (contract) {\n    return contract.balanceOf(contractConfig.FARM);\n  }\n\n  return undefined;\n}\n\nexport async function totalSupply(contract: any) {\n  if (contract) {\n    return contract.totalSupply();\n  }\n  return undefined;\n}\n\nexport async function getNextRebaseDate(estPolicyContract: any) {\n  if (estPolicyContract) {\n    let nextTime = await getNextRebaseTimeInSeconds(estPolicyContract);\n    let ms = nextTime.mul(1000).toNumber();\n    if (ms < Date.now()) {\n      return undefined;\n    }\n    console.log('nextTime', ms);\n    return new Date(ms);\n  }\n  return undefined;\n}\n\nexport async function getNextRebaseTimeInSeconds(estPolicyContract: any) {\n  if (estPolicyContract) {\n    const lastRebaseTime = await estPolicyContract.lastRebaseTimestampSec();\n    const interval = await estPolicyContract.minRebaseTimeIntervalSec();\n    return lastRebaseTime.add(interval);\n  }\n}\n\nexport async function getTotalRemainingSupplyLocked(contract: any) {\n  if (contract) {\n    return contract.getTotalRemainingSupplyLocked();\n  }\n  return undefined;\n}\n\nexport async function getTimeWeightedPrice(contract: any) {\n  if (contract) {\n    const dataAll = await contract.gettTokenIntermediaRate();\n    let data = BigNumber.from(0);\n    if (dataAll && dataAll[3]) {\n      data = dataAll[3];\n    }\n    if (BigNumber.from(0).eq(data)) {\n      // console.log(\"datdatdatdadta\",data+\"\");\n      //0 indicates that swap didn't inited, we make it default 1e18/1e18 means one\n      return BigNumber.from(10 ** 18 + '');\n    }\n    console.log('datdatdatdadta', data + '');\n    return data;\n  }\n  return undefined;\n}\n\nexport async function startBlock(contract: any) {\n  if (contract) {\n    return contract.startBlock();\n  }\n  return undefined;\n}\nexport async function getTokenAllowance(\n  contract: any,\n  account: string,\n  spender: string\n) {\n  if (contract && account) {\n    return contract.allowance(account, spender);\n  }\n  return undefined;\n}\n\nexport async function viewUserInfo(contract: any, account: string) {\n  if (contract && account) {\n    return contract.viewUserInfo(account);\n  }\n}\n\n// TODO: remove mock here\nexport async function getBalance(contract: any, account: string) {\n  if (contract && account) {\n    return contract.balanceOf(account);\n  }\n\n  return undefined;\n}\n\nexport async function getTotalPendingReward(\n  contract: any,\n  address: string,\n  account: string\n) {\n  if (contract && account && address) {\n    return contract.getTotalPendingReward(address, account);\n  }\n\n  return undefined;\n}\n\nexport async function claimAllReward(contract: any, account: string) {\n  if (contract && account) {\n    const gasLimit = await contract.estimateGas.claimAllReward(account);\n\n    return contract.claimAllReward(account, {\n      gasLimit: gasLimit.mul(150).div(100)\n    });\n  }\n\n  return undefined;\n}\n\nexport async function claimOneReward(\n  contract: any,\n  account: string,\n  address: string\n) {\n  if (contract && account) {\n    const gasLimit = await contract.estimateGas.claimReward(address, account);\n\n    return contract.claimReward(address, account, {\n      gasLimit: gasLimit.mul(150).div(100)\n    });\n  }\n\n  return undefined;\n}\n\nexport async function TARGET_INITIAL_SUPPLY(contract: any) {\n  if (contract) {\n    return contract.TARGET_INITIAL_SUPPLY();\n  }\n  return undefined;\n}\n\nexport async function getPoolInfo(contract: any, index: number) {\n  if (contract) {\n    return contract.poolInfo(index);\n  }\n  return undefined;\n}\nexport async function alreadyMinedReward(contract: any) {\n  if (contract) {\n    return contract.alreadyMinedReward();\n  }\n  return undefined;\n}\n\nexport async function merkleTotalAlreadyClaimed(contract: any) {\n  if (contract) {\n    return contract.merkleTotalAlreadyClaimed();\n  }\n  return undefined;\n}\n\nexport async function viewFarmBasicInfo(contract: any) {\n  const data = await Promise.all(\n    ['_farmStartedTime', '_miniStakePeriodInSeconds', '_farmDescription'].map(\n      field => {\n        try {\n          return contract.callStatic[field]();\n        } catch (e) {\n          console.log(e);\n          return '';\n        }\n      }\n    )\n  );\n  return {\n    started: data[0],\n    stakePeriod: data[1],\n    desc: data[2]\n  };\n}\n\nexport async function getDailyRecords(\n  FarmContract: any,\n  farmInfo: any,\n  tokenAddress: string\n) {\n  let arr: number[] = [];\n  let now = Date.now() / 1000;\n\n  if (!farmInfo) {\n    return undefined;\n  }\n\n  for (let index = 0; index < BATCH_LOAD_RECORD_LIMIT; index++) {\n    let go = now - index * farmInfo.stakePeriod;\n    if (go <= farmInfo.started) {\n      break;\n    }\n    let k = getTimeKey(go, farmInfo.started, farmInfo.stakePeriod);\n    arr.push(k);\n  }\n  let data = await Promise.all(\n    arr.map(field => {\n      try {\n        return FarmContract.viewRoundSlot(field);\n      } catch (e) {\n        return '';\n      }\n    })\n  );\n  for (let index = 0; index < arr.length; index++) {\n    data[index] = Object.assign({}, data[index], {\n      timeKey: arr[index]\n    });\n    let rewardInfo = await FarmContract._roundSlotsReward(\n      arr[index],\n      tokenAddress\n    );\n\n    let rAmount = rewardInfo.rAmount;\n    let rAccum = rewardInfo.rAccumulateAmount;\n    if (rewardInfo.rAmount) {\n      rAmount = rewardInfo.rAmount.div(RAMOUNT_DIVIDER);\n    }\n    if (rewardInfo.rAccumulateAmount) {\n      rAccum = rewardInfo.rAccumulateAmount.div(RAMOUNT_DIVIDER);\n    }\n    data[index] = {\n      rewardLastSubmiter: data[index]['rewardLastSubmiter'],\n      rewardAmount: rAmount,\n      rewardAccumulateAmount: rAccum,\n      totalStaked: data[index]['totalStaked'],\n      stakedLowestWaterMark: data[index]['stakedLowestWaterMark'],\n      totalStakedInSlot: data[index]['totalStakedInSlot'],\n      stakedAddresses: data[index]['stakedAddresses'],\n      timeKey: arr[index]\n    };\n  }\n\n  return data;\n}\n\nexport async function getLatestRebaseRecord(contract: any) {\n  try {\n    if (!contract) {\n      return {};\n    }\n\n    const recordLength = Number(\n      BigNumber.from(await contract.getRebaseRecordsLen()).toNumber()\n    );\n\n    const record = await contract.rebaseRecords(recordLength - 1);\n\n    return record;\n  } catch (e) {\n    console.log(e);\n    return {};\n  }\n}\n\nexport async function getNewExpandRate(contract: any) {\n  try {\n    const base = await contract._getNewExpandBase();\n    const team = await contract.teamRebaseSplit();\n\n    const result = FixedNumber.from('1').subUnsafe(\n      FixedNumber.from(team).divUnsafe(FixedNumber.from(base))\n    );\n    console.log('expand rate:', result.toString());\n    return result;\n  } catch (e) {\n    console.log(e);\n    return FixedNumber.from('0.6');\n  }\n}\n\nexport async function getLatestExpandAmount(\n  chefContract: any,\n  policyContract: any\n) {\n  if (!chefContract || !policyContract) {\n    return '0';\n  }\n\n  const record = await getLatestRebaseRecord(policyContract);\n  const rate = await getNewExpandRate(chefContract);\n\n  if (FixedNumber.from(record.requestedSupplyAdjustment).isZero()) {\n    return '0';\n  }\n  const rs = FixedNumber.from(record.requestedSupplyAdjustment)\n    .mulUnsafe(rate)\n    .toString();\n  const dotIndex = rs.split('').findIndex(s => s === '.');\n\n  const result = parseFixed(dotIndex > 0 ? rs.slice(0, dotIndex) : rs);\n  return result.toString();\n}\n","import { getAddress } from '@ethersproject/address';\nimport { AddressZero } from '@ethersproject/constants';\nimport { Web3Provider, JsonRpcSigner } from '@ethersproject/providers';\nimport { Contract } from '@ethersproject/contracts';\n\nimport IBEP20 from 'src/constants/abis/IBEP20.json';\nimport NFT from 'src/constants/abis/ntf.json';\nimport FARMBTCST from 'src/constants/abis/FarmBTCST.json';\nimport TBTCChef from 'src/constants/abis/tBTCChef.json';\nimport TBTCESTPolicy from 'src/constants/abis/tBTCESTPolicy.json';\nimport MasterCollector from 'src/constants/abis/MasterCollector.json';\n\nexport function getSigner(\n  library: Web3Provider,\n  account: string\n): JsonRpcSigner {\n  return library.getSigner(account).connectUnchecked();\n}\n\nexport function getProviderOrSigner(\n  library: Web3Provider,\n  account?: string\n): Web3Provider | JsonRpcSigner {\n  return account ? getSigner(library, account) : library;\n}\n\nexport function isAddress(value: any): string | false {\n  try {\n    return getAddress(value);\n  } catch {\n    return false;\n  }\n}\n\nexport function getContract(\n  address: string,\n  ABI: any,\n  library: Web3Provider,\n  account?: string\n): Contract {\n  if (!isAddress(address) || address === AddressZero) {\n    throw Error(`Invalid 'address' parameter '${address}'.`);\n  }\n\n  return new Contract(address, ABI, getProviderOrSigner(library, account));\n}\n\nexport function getERC20Contract(\n  address: string,\n  library: Web3Provider,\n  account?: string\n) {\n  return getContract(address, IBEP20.abi, library, account);\n}\n\nexport function getNFTContract(\n  address: string,\n  library: Web3Provider,\n  account?: string\n) {\n  return getContract(address, NFT.abi, library, account);\n}\n\nexport function getFarmBTCSTContract(\n  address: string,\n  library: Web3Provider,\n  account?: string\n) {\n  return getContract(address, FARMBTCST.abi, library, account);\n}\n\nexport function getTBTCChefContract(\n  address: string,\n  library: Web3Provider,\n  account?: string\n) {\n  return getContract(address, TBTCChef.abi, library, account);\n}\n\nexport function getTBTCESTPolicyContract(\n  address: string,\n  library: Web3Provider,\n  account?: string\n) {\n  return getContract(address, TBTCESTPolicy.abi, library, account);\n}\n\nexport function getMCContract(\n  address: string,\n  library: Web3Provider,\n  account?: string\n) {\n  return getContract(address, MasterCollector.abi, library, account);\n}\n\n","import { Web3Provider } from '@ethersproject/providers'\nimport { useWeb3React as useWeb3ReactCore } from '@web3-react/core'\n// eslint-disable-next-line import/no-unresolved\nimport { Web3ReactContextInterface } from '@web3-react/core/dist/types'\nimport { NetworkContextName  } from 'src/constants/index';\n\nexport function useActiveWeb3React(): Web3ReactContextInterface<\n  Web3Provider\n> & { chainId?: number } {\n  const context = useWeb3ReactCore<Web3Provider>();\n  const contextNetwork = useWeb3ReactCore<Web3Provider>(NetworkContextName);\n  return context.active ? context : contextNetwork;\n}\n","import { BigNumber, FixedNumber, utils } from 'ethers';\nimport { JSBI, Percent } from '@pancakeswap-libs/sdk';\nimport { TBTC, TDOGE } from 'src/constants/token';\n\n// add 10%\nexport function calculateGasMargin(value: BigNumber): BigNumber {\n  return value\n    .mul(BigNumber.from(10000).add(BigNumber.from(1000)))\n    .div(BigNumber.from(10000));\n}\n\n// converts a basis points value to a sdk percent\nexport function basisPointsToPercent(num: number): Percent {\n  return new Percent(JSBI.BigInt(Math.floor(num)), JSBI.BigInt(10000));\n}\n\nexport const isEmptyValue = (text: string) =>\n  BigNumber.isBigNumber(text)\n    ? BigNumber.from(text).isZero()\n    : text === '' || text.replace(/0/g, '').replace(/\\./, '') === '';\n\nexport const formatTimeKey2 = (value: number) => {\n  const date = new Date(value * 1000);\n  return date.toLocaleDateString('zh-cn');\n};\n\nexport function getTimeKey(time, baseTime, stakePeriod) {\n  baseTime = baseTime.toNumber();\n  stakePeriod = stakePeriod.toNumber();\n  if (time < baseTime) {\n    throw new Error('time < farm started time');\n  }\n  let passed = Math.round(time - baseTime);\n  let round = Math.round(passed / stakePeriod);\n  let end = baseTime + round * stakePeriod;\n  if (end < time) {\n    return end + stakePeriod;\n  }\n  return end;\n}\n\nexport const calculateDailyReward = (\n  hashrate: FixedNumber,\n  dailyBtcPerHash: FixedNumber,\n  btcPrice: FixedNumber\n) => {\n  const dailyEstimated = hashrate.mulUnsafe(dailyBtcPerHash);\n  const powerPrice = FixedNumber.from(5846)\n    .divUnsafe(FixedNumber.from(1000 * 1000 * 100))\n    .mulUnsafe(FixedNumber.from(103))\n    .divUnsafe(FixedNumber.from(100));\n  const powerPerHashUnitDay = FixedNumber.from(60).mulUnsafe(\n    FixedNumber.from(24)\n  );\n  let dailyBTCNetreward = dailyEstimated.subUnsafe(\n    powerPerHashUnitDay\n      .mulUnsafe(powerPrice)\n      .mulUnsafe(hashrate)\n      .divUnsafe(btcPrice)\n  );\n  let dailyEstimatedUSD = dailyBTCNetreward.mulUnsafe(btcPrice).round(6);\n  dailyBTCNetreward = dailyBTCNetreward.round(6);\n  return { btc: dailyBTCNetreward, usd: dailyEstimatedUSD };\n};\nconst WEEEK_REWARD_MAP = [\n  82.823529216,\n  41.411764608,\n  20.705882304,\n  10.352941152,\n  5.176470576,\n  2.588235288,\n  1.294117644,\n  0.647058822,\n  0\n];\nconst TOTAL_REWARD_MAP = {\n  btcst: 1050,\n  btcb: 21,\n  tbtc: 84\n};\nconst MiningRewardTotal = 1155;\n\nconst START_TIME = 1617379200000;\n\nexport function getDailyRewardsByBlock(\n  sourceToken: string,\n  targetToken: string,\n  latestExpandAmount?: string\n) {\n  console.log(\n    `get ${sourceToken}-${targetToken} rewards, expand: ${latestExpandAmount}`\n  );\n  const amount = FixedNumber.from(\n    utils.formatUnits(latestExpandAmount || '0', TBTC.decimals)\n  );\n  let now = Date.now();\n  if (now < START_TIME) {\n    now = START_TIME + 1000;\n  }\n  let index = Math.floor((now - START_TIME) / (7 * 86400 * 1000));\n  if (now >= 1622294525000) {\n    index = 8\n  } else {\n    index = 7\n  }\n  console.log('index:', index);\n  const total = TOTAL_REWARD_MAP[sourceToken.toLowerCase()];\n\n  return {\n    before: FixedNumber.from(WEEEK_REWARD_MAP[index] + '')\n      .mulUnsafe(FixedNumber.from(total + ''))\n      .divUnsafe(FixedNumber.from(MiningRewardTotal + '')),\n    after: FixedNumber.from(WEEEK_REWARD_MAP[index] + '')\n      .addUnsafe(amount.isNegative() ? FixedNumber.from(0) : amount)\n      .mulUnsafe(FixedNumber.from(total + ''))\n      .divUnsafe(FixedNumber.from(MiningRewardTotal + ''))\n  };\n}\n\n// DOGE\nconst DOGE_WEEEK_REWARD_MAP = [\n  5808403.36134328,\n  2904201.68067163,\n  1452100.84033583,\n  726050.42016791,\n  363025.21008395,\n  181512.60504197,\n  90756.30252098,\n  45378.15126049,\n  0\n];\n\nconst DOGE_TOTAL_REWARD_MAP = {\n  btcst: 75000000,\n  tbtc: 750000,\n  doge: 750000,\n  tdoge: 4500000\n};\nconst DOGE_MiningRewardTotal = 81000000;\n\nconst DOGE_START_TIME = 1621000800000;\n\nexport function getDOGEDailyRewardsByBlock(\n  sourceToken: string,\n  targetToken: string,\n  latestExpandAmount?: string\n) {\n  console.log(\n    `get ${sourceToken}-${targetToken} rewards, expand: ${latestExpandAmount}`\n  );\n  const amount = FixedNumber.from(\n    utils.formatUnits(latestExpandAmount || '0', TDOGE.decimals)\n  );\n  let now = Date.now();\n  if (now < DOGE_START_TIME) {\n    now = DOGE_START_TIME + 1000;\n  }\n  let index = Math.floor((now - DOGE_START_TIME) / (7 * 86400 * 1000));\n  if (index >= 8) {\n    index = 8;\n  }\n  const total = DOGE_TOTAL_REWARD_MAP[sourceToken.toLowerCase()];\n\n  return {\n    before: FixedNumber.from(DOGE_WEEEK_REWARD_MAP[index] + '')\n      .mulUnsafe(FixedNumber.from(total + ''))\n      .divUnsafe(FixedNumber.from(DOGE_MiningRewardTotal + '')),\n    after: FixedNumber.from(DOGE_WEEEK_REWARD_MAP[index] + '')\n      .addUnsafe(amount.isNegative() ? FixedNumber.from(0) : amount)\n      .mulUnsafe(FixedNumber.from(total + ''))\n      .divUnsafe(FixedNumber.from(DOGE_MiningRewardTotal + ''))\n  };\n}\n","import { useEffect, useMemo } from 'react';\nimport { useSetRecoilState, useRecoilValue } from 'recoil';\nimport {\n  tDogeLatestExpandAmountAtom,\n  tBTCLatestExpandAmountAtom\n} from 'src/atoms';\nimport { getLatestExpandAmount } from 'src/service';\nimport {\n  getTBTCESTPolicyContract,\n  getTBTCChefContract\n} from 'src/utils/contract';\nimport { contractConfig } from 'src/config';\nimport { useActiveWeb3React } from './useActiveWeb3React';\nimport { TDOGE, TBTC } from 'src/constants/token';\nimport { BigNumber } from 'ethers';\n\nexport function useFetchLatestExpandAmount() {\n  const { library } = useActiveWeb3React();\n  const setTDogeLatestExpandAmount = useSetRecoilState(\n    tDogeLatestExpandAmountAtom\n  );\n\n  const setTBTCLatestExpandAmount = useSetRecoilState(\n    tBTCLatestExpandAmountAtom\n  );\n\n  const TBTCSTPolicyContract = useMemo(() => {\n    return getTBTCESTPolicyContract(contractConfig.TBTC_POLICY, library);\n  }, [library]);\n\n  const TBTCChefContract = useMemo(() => {\n    return getTBTCChefContract(contractConfig.TBTC_CHEF, library);\n  }, [library]);\n\n  const TDOGEESTPolicyContract = useMemo(() => {\n    return getTBTCESTPolicyContract(contractConfig.TDOGE_POLICY, library);\n  }, [library]);\n\n  const TDOGEChefContract = useMemo(() => {\n    return getTBTCChefContract(contractConfig.TDOGE_CHEF, library);\n  }, [library]);\n\n  useEffect(() => {\n    getLatestExpandAmount(TDOGEChefContract, TDOGEESTPolicyContract).then(\n      data => {\n        setTDogeLatestExpandAmount(data);\n      }\n    );\n  }, [TDOGEESTPolicyContract, TDOGEChefContract]);\n\n\n  useEffect(() => {\n    getLatestExpandAmount(TBTCChefContract, TBTCSTPolicyContract).then(data => {\n      setTBTCLatestExpandAmount(data);\n    });\n  }, [TBTCSTPolicyContract, TBTCChefContract]);\n}\n\nexport function useGetLatestExpandAmount(symbol: string) {\n  const tdogeAmount = useRecoilValue(tDogeLatestExpandAmountAtom);\n  const tbtcAmount = useRecoilValue(tBTCLatestExpandAmountAtom);\n\n  const result = useMemo(() => {\n    if (symbol === TDOGE.symbol) {\n      return tdogeAmount;\n    }\n\n    if (symbol === TBTC.symbol) {\n      return tbtcAmount;\n    }\n\n    return '0';\n  }, [symbol, tdogeAmount, tbtcAmount]);\n\n  return result;\n}\n","declare const window: any;\n\nconst track = (...args: any[]): void => {\n  if (process.env.NODE_ENV !== 'production') {\n    return;\n  }\n\n  if (!window.gtag) {\n    return;\n  }\n\n  window.gtag(...args);\n};\n\nconst pageview = (props: any): void => {\n  track('config', process.env.REACT_APP_GA_MEASUREMENT_ID, props);\n};\n\nconst event = (type: string, props: Record<string, any>) => {\n  track('event', type, props);\n};\n\nexport default {\n  pageview,\n  event\n};\n","import React, { useCallback, useRef } from 'react';\nimport type { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {\n  Button,\n  SvgIcon,\n  Typography,\n  makeStyles,\n  Box,\n  Toolbar,\n  Hidden,\n  IconButton,\n  Container,\n  ButtonGroup,\n  Menu,\n  MenuItem\n} from '@material-ui/core';\nimport LanguageIcon from '@material-ui/icons/Language';\nimport { Menu as MenuIcon } from 'react-feather';\nimport { useWeb3React } from '@web3-react/core';\nimport { useSetRecoilState } from 'recoil';\nimport { mobileNavOpenAtom, walletModalStatusAtom, accountModalStatusAtom } from 'src/atoms';\nimport i18n from 'src/i18n';\n\ninterface FooterProps {\n  className?: string;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  footer: {\n    position: 'fixed',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: '0px 5px 10px 0px rgb(255 255 255 / 70%)',\n    paddingTop: 16,\n    paddingBottom: 16\n  }\n}));\n\nconst Footer: FC<FooterProps> = ({ className, ...rest }) => {\n  const classes = useStyles();\n  const { account } = useWeb3React();\n  const actionRef = useRef<any>(null);\n  const setWalletModalStatus = useSetRecoilState(walletModalStatusAtom);\n  const setAccountModalStatus = useSetRecoilState(accountModalStatusAtom);\n\n  const connectWallet = useCallback(() => {\n    setWalletModalStatus(true);\n  }, [setWalletModalStatus]);\n\n  const openAccountModal = useCallback(() => {\n    setAccountModalStatus(true);\n  }, [setAccountModalStatus]);\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <Hidden lgUp>\n      <Container maxWidth={false}>\n        <Box\n          display=\"flex\"\n          alignItems=\"center\"\n          justifyContent=\"space-between\"\n          flexGrow={1}\n          className={classes.footer}\n        >\n          <Box ml={2}>\n            {\n              account\n                ? <Button variant=\"contained\" onClick={openAccountModal}>{`${account.slice(0, 4)}...${account.slice(-4)}`}</Button>\n                : <Button variant=\"contained\" color=\"primary\" ref={actionRef} onClick={connectWallet}>Connect Wallet</Button>\n            }\n          </Box>\n          <Box p={0}>\n            <Button onClick={(event) => setAnchorEl(event.currentTarget)}>\n              <LanguageIcon />\n            </Button>\n            <Menu\n              anchorEl={anchorEl}\n              keepMounted\n              open={Boolean(anchorEl)}\n              onClose={() => setAnchorEl(null)}\n            >\n              <MenuItem\n                onClick={() => {\n                  i18n.changeLanguage('en');\n                  setAnchorEl(null);\n                }}\n                selected={i18n.language === 'en'}\n              >EN</MenuItem>\n              <MenuItem\n                onClick={() => {\n                  i18n.changeLanguage('zh');\n                  setAnchorEl(null);\n                }}\n                selected={i18n.language === 'zh'}\n              >中文</MenuItem>\n            </Menu>\n          </Box>\n        </Box>\n      </Container>\n    </Hidden>\n  );\n};\n\nFooter.propTypes = {\n  className: PropTypes.string\n};\n\nexport default Footer;\n","import React, {\n  forwardRef,\n  useEffect,\n  useCallback\n} from 'react';\nimport type {\n  HTMLProps,\n  ReactNode\n} from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport track from 'src/utils/analytics';\nimport Footer from './Footer';\nimport { useFetchTokenPrice } from 'src/hooks/useFetchTokenPrice';\nimport { useFetchLatestExpandAmount } from 'src/hooks/useLatestExpandAmount';\n\ninterface PageProps extends HTMLProps<HTMLDivElement> {\n  children?: ReactNode;\n  title?: string;\n}\n\nconst Page = forwardRef<HTMLDivElement, PageProps>(({\n  children,\n  title = '',\n  ...rest\n}, ref) => {\n  const location = useLocation();\n  useFetchTokenPrice();\n  useFetchLatestExpandAmount();\n\n  const sendPageViewEvent = useCallback(() => {\n    track.pageview({\n      page_path: location.pathname\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    sendPageViewEvent();\n  }, [sendPageViewEvent]);\n\n  return (\n    <div\n      ref={ref as any}\n      {...rest}\n    >\n      <Helmet>\n        <title>{title}</title>\n      </Helmet>\n      {children}\n      <Footer />\n    </div>\n  );\n});\n\nPage.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string\n};\n\nexport default Page;\n","import { useEffect } from 'react';\nimport { useSetRecoilState } from 'recoil';\nimport { tokenPriceListAtom, tokenPriceLoadingAtom } from 'src/atoms';\nimport { getTokenPrice, TokenPriceList } from 'src/service';\nimport isEmpty from 'lodash/isEmpty';\n\nconst PRICE_CACHE_KEY = 'TOKEN_PRICE_LIST';\n\nexport function useFetchTokenPrice() {\n  const setTokenPriceList = useSetRecoilState(tokenPriceListAtom);\n  const setTokenPriceLoading = useSetRecoilState(tokenPriceLoadingAtom);\n\n  useEffect(() => {\n    setTokenPriceLoading(true);\n    if (localStorage.getItem(PRICE_CACHE_KEY)) {\n      try {\n        const list = JSON.parse(localStorage.getItem(PRICE_CACHE_KEY));\n        console.log('...', list);\n        if (!isEmpty(list)) {\n          setTokenPriceList(list);\n          setTokenPriceLoading(false);\n        }\n      } catch (e) {\n      }\n    }\n    getTokenPrice()\n      .then(list => {\n        if (!isEmpty(list)) {\n          localStorage.setItem(PRICE_CACHE_KEY, JSON.stringify(list));\n          setTokenPriceList(list);\n        }\n      })\n      .finally(() => {\n        setTokenPriceLoading(false);\n      });\n  }, []);\n}\n","import React from 'react';\nimport type { FC } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {\n  Box,\n  Button,\n  Container,\n  Typography,\n  useTheme,\n  useMediaQuery,\n  makeStyles\n} from '@material-ui/core';\nimport type { Theme } from 'src/theme';\nimport Page from 'src/components/Page';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    minHeight: '100%',\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(3),\n    paddingTop: 80,\n    paddingBottom: 80\n  },\n  image: {\n    maxWidth: '100%',\n    width: 560,\n    maxHeight: 300,\n    height: 'auto'\n  }\n}));\n\nconst NotFoundView: FC = () => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const mobileDevice = useMediaQuery(theme.breakpoints.down('sm'));\n\n  return (\n    <Page\n      className={classes.root}\n      title=\"404: Not found\"\n    >\n      <Container maxWidth=\"lg\">\n        <Typography\n          align=\"center\"\n          variant={mobileDevice ? 'h4' : 'h1'}\n          color=\"textPrimary\"\n        >\n          404: The page you are looking for isn’t here\n        </Typography>\n        <Typography\n          align=\"center\"\n          variant=\"subtitle2\"\n          color=\"textSecondary\"\n        >\n          You either tried some shady route or you\n          came here by mistake. Whichever it is, try using the navigation.\n        </Typography>\n        <Box\n          mt={6}\n          display=\"flex\"\n          justifyContent=\"center\"\n        >\n          <img\n            alt=\"Under development\"\n            className={classes.image}\n            src=\"/static/images/undraw_page_not_found_su7k.svg\"\n          />\n        </Box>\n        <Box\n          mt={6}\n          display=\"flex\"\n          justifyContent=\"center\"\n        >\n          <Button\n            color=\"secondary\"\n            component={RouterLink}\n            to=\"/\"\n            variant=\"outlined\"\n          >\n            Back to home\n          </Button>\n        </Box>\n      </Container>\n    </Page>\n  );\n};\n\nexport default NotFoundView;\n"],"sourceRoot":""}