{"version":3,"sources":["service/index.ts","utils/contract.ts","hooks/useActiveWeb3React.ts","utils/index.ts","utils/format.ts","hooks/useLatestExpandAmount.ts","utils/price.ts","utils/analytics.ts","components/Footer.tsx","components/Page.tsx","hooks/useFetchTokenPrice.ts","components/Header.tsx","components/LoadingButton.tsx","../node_modules/currency.js/dist/currency.min.js","hooks/useDailyPool.ts","../node_modules/use-async-effect/index.js","views/stake/StakeContent/index.tsx","views/stake/UnstakeContent/index.tsx","hooks/useStakeState.ts","hooks/useQuery.ts","views/stake/index.tsx","../node_modules/@material-ui/core/esm/internal/svg-icons/MoreHoriz.js","../node_modules/@material-ui/core/esm/Breadcrumbs/BreadcrumbCollapsed.js","../node_modules/@material-ui/core/esm/Breadcrumbs/Breadcrumbs.js","../node_modules/@material-ui/core/esm/internal/SwitchBase.js","../node_modules/@material-ui/core/esm/Switch/Switch.js"],"names":["RAMOUNT_DIVIDER","BigNumber","from","pow","getAirdrops","account","a","axios","get","toLowerCase","response","data","isEmpty","airdrop","token","TBTC","index","fullAmount","amount","proof","flags","details","getTDOGEAirdrops","TDOGE","getTokensInfo","getNFTInfo","blockchain","contract","nftId","getTokenPrice","BTCB","max_supply","name","price","BTC","symbol","total_supply","DOGE","getMineStatus","totalSupply","undefined","getTotalPendingReward","address","claimAllReward","estimateGas","gasLimit","mul","div","claimOneReward","claimReward","TARGET_INITIAL_SUPPLY","getPoolInfo","poolInfo","alreadyMinedReward","merkleTotalAlreadyClaimed","viewFarmBasicInfo","Promise","all","map","field","callStatic","e","console","log","started","stakePeriod","desc","getDailyRecords","FarmContract","farmInfo","tokenAddress","arr","now","Date","go","k","getTimeKey","push","viewRoundSlot","length","Object","assign","timeKey","_roundSlotsReward","rewardInfo","rAmount","rAccum","rAccumulateAmount","rewardLastSubmiter","rewardAmount","rewardAccumulateAmount","totalStaked","stakedLowestWaterMark","totalStakedInSlot","stakedAddresses","getLatestRebaseRecord","Number","getRebaseRecordsLen","toNumber","recordLength","rebaseRecords","record","getNewExpandRate","_getNewExpandBase","base","teamRebaseSplit","team","result","FixedNumber","subUnsafe","divUnsafe","toString","getLatestExpandAmount","chefContract","policyContract","rate","requestedSupplyAdjustment","isZero","rs","mulUnsafe","dotIndex","split","findIndex","s","parseFixed","slice","getContract","ABI","library","value","getAddress","isAddress","AddressZero","Error","Contract","getSigner","connectUnchecked","getProviderOrSigner","getERC20Contract","IBEP20","abi","getNFTContract","NFT","getFarmBTCSTContract","FARMBTCST","getTBTCChefContract","TBTCChef","getTBTCESTPolicyContract","TBTCESTPolicy","getMCContract","MasterCollector","useActiveWeb3React","context","useWeb3ReactCore","contextNetwork","NetworkContextName","active","isEmptyValue","text","isBigNumber","replace","time","baseTime","passed","Math","round","end","calculateDailyReward","hashrate","dailyBtcPerHash","btcPrice","dailyEstimated","powerPrice","powerPerHashUnitDay","dailyBTCNetreward","dailyEstimatedUSD","btc","usd","WEEEK_REWARD_MAP","TOTAL_REWARD_MAP","btcst","btcb","tbtc","getDailyRewardsByBlock","sourceToken","targetToken","latestExpandAmount","utils","formatUnits","decimals","START_TIME","floor","total","before","MiningRewardTotal","after","addUnsafe","isNegative","DOGE_WEEEK_REWARD_MAP","DOGE_TOTAL_REWARD_MAP","doge","tdoge","getDOGEDailyRewardsByBlock","DOGE_START_TIME","DOGE_MiningRewardTotal","formatBalance","maxFraction","formatted","substr","parseBalance","parseUnits","getRoiAndApy","roi","daily","apy","formatApy","afterValue","afterRoi","afterApy","afterDaily","res","useRoi","percent","formatPercentage","beforePercent","diff","String","getRemainTime","totalSeconds","remainSeconds","hours","padStart","minutes","seconds","progress","useFetchLatestExpandAmount","setTDogeLatestExpandAmount","useSetRecoilState","tDogeLatestExpandAmountAtom","setTBTCLatestExpandAmount","tBTCLatestExpandAmountAtom","TBTCSTPolicyContract","useMemo","contractConfig","TBTC_POLICY","TBTCChefContract","TBTC_CHEF","TDOGEESTPolicyContract","TDOGE_POLICY","TDOGEChefContract","TDOGE_CHEF","useEffect","then","useGetLatestExpandAmount","tdogeAmount","useRecoilValue","tbtcAmount","getPriceBySymbol","list","item","values","find","p","getTwapBySymbol","twap","track","window","gtag","props","process","REACT_APP_GA_MEASUREMENT_ID","useStyles","makeStyles","theme","footer","position","bottom","left","right","backgroundColor","palette","background","paper","boxShadow","paddingTop","paddingBottom","Footer","className","classes","useWeb3React","actionRef","useRef","setWalletModalStatus","walletModalStatusAtom","setAccountModalStatus","accountModalStatusAtom","connectWallet","useCallback","openAccountModal","React","useState","anchorEl","setAnchorEl","Hidden","lgUp","Container","maxWidth","Box","display","alignItems","justifyContent","flexGrow","ml","Button","variant","onClick","color","ref","event","currentTarget","Menu","keepMounted","open","Boolean","onClose","MenuItem","i18n","changeLanguage","selected","language","Page","forwardRef","children","title","rest","location","useLocation","setTokenPriceList","tokenPriceListAtom","setTokenPriceLoading","tokenPriceLoadingAtom","localStorage","getItem","JSON","parse","setItem","stringify","finally","useFetchTokenPrice","sendPageViewEvent","page_path","pathname","Helmet","root","padding","width","toolbar","minHeight","Header","setMobileNavOpen","mobileNavOpenAtom","showNav","clsx","pt","pb","fontSize","mdDown","pending","pendingIndicator","visibility","pendingIndicatorCenter","transform","pendingIndicatorStart","pendingIndicatorEnd","endIconPendingEnd","startIconPendingStart","labelPendingCenter","PendingIndicator","size","LoadingButton","disabled","pendingPosition","other","startIcon","capitalize","endIcon","label","module","exports","b","this","m","d","precision","intValue","g","increment","groups","useVedic","n","arguments","c","decimal","h","errorOnInvalid","fromCents","l","f","RegExp","toFixed","separator","pattern","negativePattern","format","q","prototype","add","subtract","multiply","divide","distribute","abs","dollars","cents","toJSON","useDailyPool","txHappend","tokenPrice","tokenPriceLoading","loading","setLoading","sourceStakeAmount","setSourceStakeAmount","tokenRewardPerStake","setTokenRewardPerStake","usdRewardPerStake","setUsdTokenRewardPerStake","afterUsdRewardPerStake","setAfterUsdTokenRewardPerStake","rewardDiff","setRewardDiff","farmingInfo","FarmingInfoMap","sourceTokenERC20Contract","useAsyncEffect","contractAddress","pidMap","FarmingPidMap","FarmingTDogePidMap","totalDepositAmount","stakedTokenShrinkFactor","tokenReward","afterTokenReward","tps","afterTps","ups","afterUps","balanceOf","FARM","BTCBStakeAmount","FARM_BTCST","BTCSTStakeAmount","totalAmount","prehash","sourceSupplyAmount","fromString","mineBTCBStatus","dayList","eachHaveCoin","error","require","effect","destroy","inputs","hasDestroy","mounted","maybePromise","resolve","inputArea","marginBottom","percentMap","cal","StakeContent","state","t","useTranslation","stokenAllowed","asyncApproveClick","asyncStakeClick","sourceBalance","yourStakeAmount","poolLoading","formik","useFormik","initialValues","onSubmit","handleChange","handleSubmit","touched","isSubmitting","errors","setFieldValue","estRewardTokenAmount","setEstRewardTokenAmount","beforeEstRewardTokenAmount","setBeforeEstRewardTokenAmount","estRewardUsd","setEstRewardUsd","beforeEstRewardUsd","setBeforeEstRewardUsd","targetTokenPrice","sourceTokenPrice","ru","beforeRu","CircularProgress","Typography","mt","Grid","container","spacing","xs","sm","TextField","type","helperText","fullWidth","required","onChange","key","diffResult","apyDisplay","gt","execute","currency","UnstakeContent","asyncUnstakeClick","insufficientBalance","EXPAND_BASE","minAllowance","sub","useStakeState","query","URLSearchParams","search","setStokenAllowed","setTxHappend","pair","TokenList","stakingPid","farmContract","EnTokenMining","DAILY","useAsync","allowance","useAsyncCallback","MaxUint256","approve","tx","wait","apiDepositToMining","BLOCK","deposit","lt","apiWithdrawLatestSToken","withdraw","gte","farmUserInfo","stakingInfo","viewUserInfo","info","lockedAmount","dark","icon","marginRight","height","borderRadius","textgroupTitle","fontWeight","lineHeight","testgroupContent","TextGroup","StakeView","setType","handleTypeChange","target","checked","Breadcrumbs","aria-label","Link","href","aria-current","Divider","Card","CardHeader","Avatar","src","logoURI","Switch","defaultChecked","inputProps","CardContent","createSvgIcon","withStyles","marginLeft","grey","cursor","shadows","emphasize","_objectWithoutProperties","ButtonBase","_extends","component","focusRipple","MoreHorizIcon","_props$component","Component","_props$expandText","expandText","_props$itemsAfterColl","itemsAfterCollapse","_props$itemsBeforeCol","itemsBeforeCollapse","_props$maxItems","maxItems","_props$separator","_React$useState","expanded","setExpanded","allItems","toArray","filter","child","li","concat","ol","items","reduce","acc","current","insertSeparators","_toConsumableArray","BreadcrumbCollapsed","focusable","parentNode","querySelector","focus","renderItemsBeforeAndAfter","flexWrap","margin","listStyle","userSelect","SwitchBase","autoFocus","checkedProp","checkedIcon","disabledProp","id","inputRef","onBlur","onFocus","readOnly","tabIndex","_useControlled","useControlled","controlled","default","_useControlled2","_slicedToArray","setCheckedState","muiFormControl","useFormControl","hasLabelFor","IconButton","role","input","newChecked","opacity","top","zIndex","_props$color","_props$edge","edge","_props$size","thumb","edgeStart","edgeEnd","switchBase","overflow","boxSizing","flexShrink","verticalAlign","colorAdjust","transition","transitions","create","duration","shortest","colorPrimary","primary","main","fade","action","hoverOpacity","common","black","white","colorSecondary","secondary","sizeSmall"],"mappings":"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","file":"static/js/14.9746396d.chunk.js","sourcesContent":["import { BigNumber, FixedNumber, parseFixed } from '@ethersproject/bignumber';\nimport axios from 'axios';\nimport { contractConfig } from 'src/config';\nimport { parseBalance } from 'src/utils/format';\nimport { AirdropInfo } from 'src/utils/airdrop';\nimport { getTimeKey } from 'src/utils';\nimport { PriceItem } from 'src/types/token';\nimport { TBTC, TDOGE } from 'src/constants/token';\nimport isEmpty from 'lodash/isEmpty';\n\nconst BATCH_LOAD_RECORD_LIMIT = 5;\nconst RAMOUNT_DIVIDER = BigNumber.from(1e8).pow(BigNumber.from(4));\nconst TBTC_RATE = 1.0;\n\ntype Response<T> = {\n  code: number;\n  data: T;\n  msg?: any;\n};\n\nexport type TokenPriceList = {\n  [key: string]: PriceItem;\n};\n\nexport async function getAirdrops(account: string) {\n  try {\n    const response = await axios.get(\n      `https://api.1-b.tc/api/airdrop/${account.toLowerCase()}`\n    );\n\n    const data = response.data?.data;\n    if (!data || isEmpty(data)) {\n      return null;\n    }\n\n    const airdrop: AirdropInfo = {\n      token: TBTC,\n      index: BigNumber.from(data.index),\n      fullAmount: BigNumber.from(data.amount),\n      proof: data.proof,\n      flags: data.flags,\n      details: data.details\n    };\n\n    return airdrop;\n  } catch (e) {\n    return null;\n  }\n}\n\nexport async function getTDOGEAirdrops(account: string) {\n  try {\n    const response = await axios.get(\n      `https://api.1-b.tc/api/dogeairdrop/${account.toLowerCase()}`\n    );\n\n    const data = response.data?.data;\n    if (!data || isEmpty(data)) {\n      return null;\n    }\n\n    const airdrop: AirdropInfo = {\n      token: TDOGE,\n      index: BigNumber.from(data.index),\n      fullAmount: BigNumber.from(data.amount),\n      proof: data.proof,\n      flags: data.flags,\n      details: data.details\n    };\n\n    return airdrop;\n  } catch (e) {\n    return null;\n  }\n}\n\nexport async function getTVL() {\n  const response = await axios.get('https://api.1-b.tc/api/tvl/');\n\n  return response.data;\n}\n\nexport async function getTXInfo() {\n  const response = await axios.get('https://api.1-b.tc/api/btcstInfo');\n\n  return response.data;\n}\n\nexport async function getTokensInfo() {\n  const response = await axios.get('https://api.1-b.tc/api/tokensInfo');\n\n  return response.data;\n}\n\nexport async function getNFTInfo(\n  blockchain: string,\n  contract: string,\n  nftId: string\n) {\n  const response = await axios.get(\n    `https://api.1-b.tc/api/nft/find?blockchain=${blockchain}&contract=${contract}&nftId=${nftId}`\n  );\n\n  return response.data;\n}\n\nexport async function getTokenPrice() {\n  try {\n    const response = await axios.get<Response<TokenPriceList>>(\n      'https://api.1-b.tc/api/token/price'\n    );\n    const data = response.data.data;\n\n    if (!data.BTCB) {\n      data.BTCB = {\n        max_supply: null,\n        name: 'BTCB',\n        price: data.BTC.price,\n        symbol: 'BTCB',\n        total_supply: null\n      };\n    }\n\n    if (!data.TBTC) {\n      data.TBTC = {\n        max_supply: 2100,\n        name: '𝜏Bitcoin',\n        price: data.BTC.price * TBTC_RATE,\n        symbol: 'TBTC',\n        total_supply: null\n      };\n    }\n\n    if (!data.DOGE) {\n      data.DOGE = {\n        max_supply: null,\n        name: 'Doge',\n        price: data.TDOGE.price,\n        symbol: 'DOGE',\n        total_supply: null\n      };\n    }\n\n    return data;\n  } catch (e) {\n    return {};\n  }\n}\n\nexport async function getMineStatus() {\n  const response = await axios.get(\n    'https://584xqc7ik2.execute-api.us-east-2.amazonaws.com/beta/bp-relay'\n  );\n\n  return response.data.data;\n}\n\nexport async function getTotalStakedBTCST(contract: any, account: any) {\n  if (contract && account) {\n    return contract.viewAllTimeTotalMined();\n  }\n\n  return undefined;\n}\n\nexport async function getTotalMinedRTokenInpool(contract: any) {\n  if (contract) {\n    return contract.viewAllTimeTotalMined();\n  }\n\n  return undefined;\n}\n\nexport async function getBTCInPool(contract: any) {\n  if (contract) {\n    return contract.balanceOf(contractConfig.FARM);\n  }\n\n  return undefined;\n}\n\nexport async function totalSupply(contract: any) {\n  if (contract) {\n    return contract.totalSupply();\n  }\n  return undefined;\n}\n\nexport async function getNextRebaseDate(estPolicyContract: any) {\n  if (estPolicyContract) {\n    let nextTime = await getNextRebaseTimeInSeconds(estPolicyContract);\n    let ms = nextTime.mul(1000).toNumber();\n    if (ms < Date.now()) {\n      return undefined;\n    }\n    console.log('nextTime', ms);\n    return new Date(ms);\n  }\n  return undefined;\n}\n\nexport async function getNextRebaseTimeInSeconds(estPolicyContract: any) {\n  if (estPolicyContract) {\n    const lastRebaseTime = await estPolicyContract.lastRebaseTimestampSec();\n    const interval = await estPolicyContract.minRebaseTimeIntervalSec();\n    return lastRebaseTime.add(interval);\n  }\n}\n\nexport async function getTotalRemainingSupplyLocked(contract: any) {\n  if (contract) {\n    return contract.getTotalRemainingSupplyLocked();\n  }\n  return undefined;\n}\n\nexport async function getTimeWeightedPrice(contract: any) {\n  if (contract) {\n    const dataAll = await contract.gettTokenIntermediaRate();\n    let data = BigNumber.from(0);\n    if (dataAll && dataAll[3]) {\n      data = dataAll[3];\n    }\n    if (BigNumber.from(0).eq(data)) {\n      // console.log(\"datdatdatdadta\",data+\"\");\n      //0 indicates that swap didn't inited, we make it default 1e18/1e18 means one\n      return BigNumber.from(10 ** 18 + '');\n    }\n    console.log('datdatdatdadta', data + '');\n    return data;\n  }\n  return undefined;\n}\n\nexport async function startBlock(contract: any) {\n  if (contract) {\n    return contract.startBlock();\n  }\n  return undefined;\n}\nexport async function getTokenAllowance(\n  contract: any,\n  account: string,\n  spender: string\n) {\n  if (contract && account) {\n    return contract.allowance(account, spender);\n  }\n  return undefined;\n}\n\nexport async function viewUserInfo(contract: any, account: string) {\n  if (contract && account) {\n    return contract.viewUserInfo(account);\n  }\n}\n\n// TODO: remove mock here\nexport async function getBalance(contract: any, account: string) {\n  if (contract && account) {\n    return contract.balanceOf(account);\n  }\n\n  return undefined;\n}\n\nexport async function getTotalPendingReward(\n  contract: any,\n  address: string,\n  account: string\n) {\n  if (contract && account && address) {\n    return contract.getTotalPendingReward(address, account);\n  }\n\n  return undefined;\n}\n\nexport async function claimAllReward(contract: any, account: string) {\n  if (contract && account) {\n    const gasLimit = await contract.estimateGas.claimAllReward(account);\n\n    return contract.claimAllReward(account, {\n      gasLimit: gasLimit.mul(150).div(100)\n    });\n  }\n\n  return undefined;\n}\n\nexport async function claimOneReward(\n  contract: any,\n  account: string,\n  address: string\n) {\n  if (contract && account) {\n    const gasLimit = await contract.estimateGas.claimReward(address, account);\n\n    return contract.claimReward(address, account, {\n      gasLimit: gasLimit.mul(150).div(100)\n    });\n  }\n\n  return undefined;\n}\n\nexport async function TARGET_INITIAL_SUPPLY(contract: any) {\n  if (contract) {\n    return contract.TARGET_INITIAL_SUPPLY();\n  }\n  return undefined;\n}\n\nexport async function getPoolInfo(contract: any, index: number) {\n  if (contract) {\n    return contract.poolInfo(index);\n  }\n  return undefined;\n}\nexport async function alreadyMinedReward(contract: any) {\n  if (contract) {\n    return contract.alreadyMinedReward();\n  }\n  return undefined;\n}\n\nexport async function merkleTotalAlreadyClaimed(contract: any) {\n  if (contract) {\n    return contract.merkleTotalAlreadyClaimed();\n  }\n  return undefined;\n}\n\nexport async function viewFarmBasicInfo(contract: any) {\n  const data = await Promise.all(\n    ['_farmStartedTime', '_miniStakePeriodInSeconds', '_farmDescription'].map(\n      field => {\n        try {\n          return contract.callStatic[field]();\n        } catch (e) {\n          console.log(e);\n          return '';\n        }\n      }\n    )\n  );\n  return {\n    started: data[0],\n    stakePeriod: data[1],\n    desc: data[2]\n  };\n}\n\nexport async function getDailyRecords(\n  FarmContract: any,\n  farmInfo: any,\n  tokenAddress: string\n) {\n  let arr: number[] = [];\n  let now = Date.now() / 1000;\n\n  if (!farmInfo) {\n    return undefined;\n  }\n\n  for (let index = 0; index < BATCH_LOAD_RECORD_LIMIT; index++) {\n    let go = now - index * farmInfo.stakePeriod;\n    if (go <= farmInfo.started) {\n      break;\n    }\n    let k = getTimeKey(go, farmInfo.started, farmInfo.stakePeriod);\n    arr.push(k);\n  }\n  let data = await Promise.all(\n    arr.map(field => {\n      try {\n        return FarmContract.viewRoundSlot(field);\n      } catch (e) {\n        return '';\n      }\n    })\n  );\n  for (let index = 0; index < arr.length; index++) {\n    data[index] = Object.assign({}, data[index], {\n      timeKey: arr[index]\n    });\n    let rewardInfo = await FarmContract._roundSlotsReward(\n      arr[index],\n      tokenAddress\n    );\n\n    let rAmount = rewardInfo.rAmount;\n    let rAccum = rewardInfo.rAccumulateAmount;\n    if (rewardInfo.rAmount) {\n      rAmount = rewardInfo.rAmount.div(RAMOUNT_DIVIDER);\n    }\n    if (rewardInfo.rAccumulateAmount) {\n      rAccum = rewardInfo.rAccumulateAmount.div(RAMOUNT_DIVIDER);\n    }\n    data[index] = {\n      rewardLastSubmiter: data[index]['rewardLastSubmiter'],\n      rewardAmount: rAmount,\n      rewardAccumulateAmount: rAccum,\n      totalStaked: data[index]['totalStaked'],\n      stakedLowestWaterMark: data[index]['stakedLowestWaterMark'],\n      totalStakedInSlot: data[index]['totalStakedInSlot'],\n      stakedAddresses: data[index]['stakedAddresses'],\n      timeKey: arr[index]\n    };\n  }\n\n  return data;\n}\n\nexport async function getLatestRebaseRecord(contract: any) {\n  try {\n    if (!contract) {\n      return {};\n    }\n\n    const recordLength = Number(\n      BigNumber.from(await contract.getRebaseRecordsLen()).toNumber()\n    );\n\n    const record = await contract.rebaseRecords(recordLength - 1);\n\n    return record;\n  } catch (e) {\n    console.log(e);\n    return {};\n  }\n}\n\nexport async function getNewExpandRate(contract: any) {\n  try {\n    const base = await contract._getNewExpandBase();\n    const team = await contract.teamRebaseSplit();\n\n    const result = FixedNumber.from('1').subUnsafe(\n      FixedNumber.from(team).divUnsafe(FixedNumber.from(base))\n    );\n    console.log('expand rate:', result.toString());\n    return result;\n  } catch (e) {\n    console.log(e);\n    return FixedNumber.from('0.6');\n  }\n}\n\nexport async function getLatestExpandAmount(\n  chefContract: any,\n  policyContract: any\n) {\n  if (!chefContract || !policyContract) {\n    return '0';\n  }\n\n  const record = await getLatestRebaseRecord(policyContract);\n  const rate = await getNewExpandRate(chefContract);\n\n  if (FixedNumber.from(record.requestedSupplyAdjustment).isZero()) {\n    return '0';\n  }\n  const rs = FixedNumber.from(record.requestedSupplyAdjustment)\n    .mulUnsafe(rate)\n    .toString();\n  const dotIndex = rs.split('').findIndex(s => s === '.');\n\n  const result = parseFixed(dotIndex > 0 ? rs.slice(0, dotIndex) : rs);\n  return result.toString();\n}\n","import { getAddress } from '@ethersproject/address';\nimport { AddressZero } from '@ethersproject/constants';\nimport { Web3Provider, JsonRpcSigner } from '@ethersproject/providers';\nimport { Contract } from '@ethersproject/contracts';\n\nimport IBEP20 from 'src/constants/abis/IBEP20.json';\nimport NFT from 'src/constants/abis/ntf.json';\nimport FARMBTCST from 'src/constants/abis/FarmBTCST.json';\nimport TBTCChef from 'src/constants/abis/tBTCChef.json';\nimport TBTCESTPolicy from 'src/constants/abis/tBTCESTPolicy.json';\nimport MasterCollector from 'src/constants/abis/MasterCollector.json';\n\nexport function getSigner(\n  library: Web3Provider,\n  account: string\n): JsonRpcSigner {\n  return library.getSigner(account).connectUnchecked();\n}\n\nexport function getProviderOrSigner(\n  library: Web3Provider,\n  account?: string\n): Web3Provider | JsonRpcSigner {\n  return account ? getSigner(library, account) : library;\n}\n\nexport function isAddress(value: any): string | false {\n  try {\n    return getAddress(value);\n  } catch {\n    return false;\n  }\n}\n\nexport function getContract(\n  address: string,\n  ABI: any,\n  library: Web3Provider,\n  account?: string\n): Contract {\n  if (!isAddress(address) || address === AddressZero) {\n    throw Error(`Invalid 'address' parameter '${address}'.`);\n  }\n\n  return new Contract(address, ABI, getProviderOrSigner(library, account));\n}\n\nexport function getERC20Contract(\n  address: string,\n  library: Web3Provider,\n  account?: string\n) {\n  return getContract(address, IBEP20.abi, library, account);\n}\n\nexport function getNFTContract(\n  address: string,\n  library: Web3Provider,\n  account?: string\n) {\n  return getContract(address, NFT.abi, library, account);\n}\n\nexport function getFarmBTCSTContract(\n  address: string,\n  library: Web3Provider,\n  account?: string\n) {\n  return getContract(address, FARMBTCST.abi, library, account);\n}\n\nexport function getTBTCChefContract(\n  address: string,\n  library: Web3Provider,\n  account?: string\n) {\n  return getContract(address, TBTCChef.abi, library, account);\n}\n\nexport function getTBTCESTPolicyContract(\n  address: string,\n  library: Web3Provider,\n  account?: string\n) {\n  return getContract(address, TBTCESTPolicy.abi, library, account);\n}\n\nexport function getMCContract(\n  address: string,\n  library: Web3Provider,\n  account?: string\n) {\n  return getContract(address, MasterCollector.abi, library, account);\n}\n\n","import { Web3Provider } from '@ethersproject/providers'\nimport { useWeb3React as useWeb3ReactCore } from '@web3-react/core'\n// eslint-disable-next-line import/no-unresolved\nimport { Web3ReactContextInterface } from '@web3-react/core/dist/types'\nimport { NetworkContextName  } from 'src/constants/index';\n\nexport function useActiveWeb3React(): Web3ReactContextInterface<\n  Web3Provider\n> & { chainId?: number } {\n  const context = useWeb3ReactCore<Web3Provider>();\n  const contextNetwork = useWeb3ReactCore<Web3Provider>(NetworkContextName);\n  return context.active ? context : contextNetwork;\n}\n","import { BigNumber, FixedNumber, utils } from 'ethers';\nimport { JSBI, Percent } from '@pancakeswap-libs/sdk';\nimport { TBTC, TDOGE } from 'src/constants/token';\n\n// add 10%\nexport function calculateGasMargin(value: BigNumber): BigNumber {\n  return value\n    .mul(BigNumber.from(10000).add(BigNumber.from(1000)))\n    .div(BigNumber.from(10000));\n}\n\n// converts a basis points value to a sdk percent\nexport function basisPointsToPercent(num: number): Percent {\n  return new Percent(JSBI.BigInt(Math.floor(num)), JSBI.BigInt(10000));\n}\n\nexport const isEmptyValue = (text: string) =>\n  BigNumber.isBigNumber(text)\n    ? BigNumber.from(text).isZero()\n    : text === '' || text.replace(/0/g, '').replace(/\\./, '') === '';\n\nexport const formatTimeKey2 = (value: number) => {\n  const date = new Date(value * 1000);\n  return date.toLocaleDateString('zh-cn');\n};\n\nexport function getTimeKey(time, baseTime, stakePeriod) {\n  baseTime = baseTime.toNumber();\n  stakePeriod = stakePeriod.toNumber();\n  if (time < baseTime) {\n    throw new Error('time < farm started time');\n  }\n  let passed = Math.round(time - baseTime);\n  let round = Math.round(passed / stakePeriod);\n  let end = baseTime + round * stakePeriod;\n  if (end < time) {\n    return end + stakePeriod;\n  }\n  return end;\n}\n\nexport const calculateDailyReward = (\n  hashrate: FixedNumber,\n  dailyBtcPerHash: FixedNumber,\n  btcPrice: FixedNumber\n) => {\n  const dailyEstimated = hashrate.mulUnsafe(dailyBtcPerHash);\n  const powerPrice = FixedNumber.from(5846)\n    .divUnsafe(FixedNumber.from(1000 * 1000 * 100))\n    .mulUnsafe(FixedNumber.from(103))\n    .divUnsafe(FixedNumber.from(100));\n  const powerPerHashUnitDay = FixedNumber.from(60).mulUnsafe(\n    FixedNumber.from(24)\n  );\n  let dailyBTCNetreward = dailyEstimated.subUnsafe(\n    powerPerHashUnitDay\n      .mulUnsafe(powerPrice)\n      .mulUnsafe(hashrate)\n      .divUnsafe(btcPrice)\n  );\n  let dailyEstimatedUSD = dailyBTCNetreward.mulUnsafe(btcPrice).round(6);\n  dailyBTCNetreward = dailyBTCNetreward.round(6);\n  return { btc: dailyBTCNetreward, usd: dailyEstimatedUSD };\n};\nconst WEEEK_REWARD_MAP = [\n  82.823529216,\n  41.411764608,\n  20.705882304,\n  10.352941152,\n  5.176470576,\n  2.588235288,\n  1.294117644,\n  0.647058822,\n  0\n];\nconst TOTAL_REWARD_MAP = {\n  btcst: 1050,\n  btcb: 21,\n  tbtc: 84\n};\nconst MiningRewardTotal = 1155;\n\nconst START_TIME = 1617379200000;\n\nexport function getDailyRewardsByBlock(\n  sourceToken: string,\n  targetToken: string,\n  latestExpandAmount?: string\n) {\n  console.log(\n    `get ${sourceToken}-${targetToken} rewards, expand: ${latestExpandAmount}`\n  );\n  const amount = FixedNumber.from(\n    utils.formatUnits(latestExpandAmount || '0', TBTC.decimals)\n  );\n  let now = Date.now();\n  if (now < START_TIME) {\n    now = START_TIME + 1000;\n  }\n  let index = Math.floor((now - START_TIME) / (7 * 86400 * 1000));\n  if (now >= 1622294525000) {\n    index = 8\n  } else {\n    index = 7\n  }\n  console.log('index:', index);\n  const total = TOTAL_REWARD_MAP[sourceToken.toLowerCase()];\n\n  return {\n    before: FixedNumber.from(WEEEK_REWARD_MAP[index] + '')\n      .mulUnsafe(FixedNumber.from(total + ''))\n      .divUnsafe(FixedNumber.from(MiningRewardTotal + '')),\n    after: FixedNumber.from(WEEEK_REWARD_MAP[index] + '')\n      .addUnsafe(amount.isNegative() ? FixedNumber.from(0) : amount)\n      .mulUnsafe(FixedNumber.from(total + ''))\n      .divUnsafe(FixedNumber.from(MiningRewardTotal + ''))\n  };\n}\n\n// DOGE\nconst DOGE_WEEEK_REWARD_MAP = [\n  5808403.36134328,\n  2904201.68067163,\n  1452100.84033583,\n  726050.42016791,\n  363025.21008395,\n  181512.60504197,\n  90756.30252098,\n  45378.15126049,\n  0\n];\n\nconst DOGE_TOTAL_REWARD_MAP = {\n  btcst: 75000000,\n  tbtc: 750000,\n  doge: 750000,\n  tdoge: 4500000\n};\nconst DOGE_MiningRewardTotal = 81000000;\n\nconst DOGE_START_TIME = 1621000800000;\n\nexport function getDOGEDailyRewardsByBlock(\n  sourceToken: string,\n  targetToken: string,\n  latestExpandAmount?: string\n) {\n  console.log(\n    `get ${sourceToken}-${targetToken} rewards, expand: ${latestExpandAmount}`\n  );\n  const amount = FixedNumber.from(\n    utils.formatUnits(latestExpandAmount || '0', TDOGE.decimals)\n  );\n  let now = Date.now();\n  if (now < DOGE_START_TIME) {\n    now = DOGE_START_TIME + 1000;\n  }\n  let index = Math.floor((now - DOGE_START_TIME) / (7 * 86400 * 1000));\n  if (index >= 8) {\n    index = 8;\n  }\n  const total = DOGE_TOTAL_REWARD_MAP[sourceToken.toLowerCase()];\n\n  return {\n    before: FixedNumber.from(DOGE_WEEEK_REWARD_MAP[index] + '')\n      .mulUnsafe(FixedNumber.from(total + ''))\n      .divUnsafe(FixedNumber.from(DOGE_MiningRewardTotal + '')),\n    after: FixedNumber.from(DOGE_WEEEK_REWARD_MAP[index] + '')\n      .addUnsafe(amount.isNegative() ? FixedNumber.from(0) : amount)\n      .mulUnsafe(FixedNumber.from(total + ''))\n      .divUnsafe(FixedNumber.from(DOGE_MiningRewardTotal + ''))\n  };\n}\n","import { BigNumberish, utils, FixedNumber } from 'ethers';\nimport { BTCB, BTCST, TBTC, TDOGE } from 'src/constants/token';\nimport { Token } from 'src/types/token';\n\nconst baseTime = 1616760000000;\n\nexport const formatBalance = (\n  value: BigNumberish,\n  decimals = 18,\n  maxFraction = 0\n) => {\n  const formatted = utils.formatUnits(value, decimals);\n  if (maxFraction > 0) {\n    const split = formatted.split('.');\n    if (split.length > 1) {\n      return split[0] + '.' + split[1].substr(0, maxFraction);\n    }\n  }\n  return formatted;\n};\n\nexport function formatFixedBalance(\n  value: BigNumberish,\n  decimals = 18,\n  maxFraction = 0\n) {}\n\nexport function commonFormatBalance(value: BigNumberish, decimals = 18) {\n  return formatBalance(value, decimals, 8);\n}\n\nexport const parseBalance = (value: string = '0', decimals = 18) => {\n  return utils.parseUnits(value, decimals);\n};\n\nexport function getRoiAndApy(\n  value: FixedNumber,\n  price: FixedNumber,\n) {\n  const roi = Number(\n    value\n      .mulUnsafe(FixedNumber.from(365))\n      .divUnsafe(price)\n      .toString()\n  );\n\n  // const apy = (1+apr/365)^365-1;\n  const daily = value.divUnsafe(price).addUnsafe(FixedNumber.from('1.0'));\n\n  let apy = Math.pow(Number(daily.toString()), 365) - 1;\n\n  return {\n    roi,\n    apy,\n    daily\n  };\n}\n\nexport function formatApy(\n  sourceToken: Token,\n  value: FixedNumber,\n  afterValue: FixedNumber,\n  price: FixedNumber,\n  targetToken?: Token\n) {\n  const { roi, apy } = getRoiAndApy(value, price);\n  const { roi: afterRoi, apy: afterApy, daily: afterDaily } = getRoiAndApy(\n    afterValue,\n    price\n  );\n\n  let res = afterApy;\n  let useRoi = false;\n  if (targetToken && targetToken.symbol === TDOGE.symbol) {\n    res = afterRoi;\n    useRoi = true;\n  }\n  if (afterApy < 10000) {\n    res = afterApy;\n    useRoi = false;\n  }\n  console.log(\n    `daily:${afterDaily},source:${sourceToken.symbol.toLowerCase()},targte:${\n      targetToken ? targetToken.symbol : ''\n    },value:${value},price:${price} res:${res} roi:${afterRoi} apy:${afterApy}`\n  );\n\n  const percent = formatPercentage(res, 2);\n  const beforePercent = formatPercentage(useRoi ? roi : apy, 2) \n  const diff = FixedNumber.from(percent).subUnsafe(FixedNumber.from(beforePercent));\n\n  return {\n    data: `${percent}% ${useRoi ? '(ROI)': ''}`,\n    diff,\n  };\n}\n\nexport const formatPercentage = (value: number, maxFraction = 2) => {\n  const formatted = String(value * 100);\n  if (maxFraction > 0) {\n    const split = formatted.split('.');\n    if (split.length > 1) {\n      return split[0] + '.' + split[1].substr(0, maxFraction);\n    }\n  }\n  return formatted;\n};\n\nexport function getRemainTime() {\n  const now = Date.now();\n  const secondsPerDay = 24 * 60 * 60;\n  const totalSeconds = Math.floor(((now - baseTime) / 1000) % secondsPerDay);\n  const remainSeconds = secondsPerDay - totalSeconds;\n\n  const hours = String(Math.floor((remainSeconds / (60 * 60)) % 24)).padStart(\n    2,\n    '0'\n  );\n  const minutes = String(Math.floor((remainSeconds / 60) % 60)).padStart(\n    2,\n    '0'\n  );\n  const seconds = String(Math.floor(remainSeconds % 60)).padStart(2, '0');\n  const progress = Math.floor((totalSeconds * 100) / secondsPerDay);\n\n  return {\n    hours,\n    minutes,\n    seconds,\n    progress\n  };\n}\n\nexport function formatMoney(num: Number) {\n  return num.toString().replace(/(\\d)(?=(?:\\d{3})+$)/g, '$1,');\n}\n","import { useEffect, useMemo } from 'react';\nimport { useSetRecoilState, useRecoilValue } from 'recoil';\nimport {\n  tDogeLatestExpandAmountAtom,\n  tBTCLatestExpandAmountAtom\n} from 'src/atoms';\nimport { getLatestExpandAmount } from 'src/service';\nimport {\n  getTBTCESTPolicyContract,\n  getTBTCChefContract\n} from 'src/utils/contract';\nimport { contractConfig } from 'src/config';\nimport { useActiveWeb3React } from './useActiveWeb3React';\nimport { TDOGE, TBTC } from 'src/constants/token';\nimport { BigNumber } from 'ethers';\n\nexport function useFetchLatestExpandAmount() {\n  const { library } = useActiveWeb3React();\n  const setTDogeLatestExpandAmount = useSetRecoilState(\n    tDogeLatestExpandAmountAtom\n  );\n\n  const setTBTCLatestExpandAmount = useSetRecoilState(\n    tBTCLatestExpandAmountAtom\n  );\n\n  const TBTCSTPolicyContract = useMemo(() => {\n    return getTBTCESTPolicyContract(contractConfig.TBTC_POLICY, library);\n  }, [library]);\n\n  const TBTCChefContract = useMemo(() => {\n    return getTBTCChefContract(contractConfig.TBTC_CHEF, library);\n  }, [library]);\n\n  const TDOGEESTPolicyContract = useMemo(() => {\n    return getTBTCESTPolicyContract(contractConfig.TDOGE_POLICY, library);\n  }, [library]);\n\n  const TDOGEChefContract = useMemo(() => {\n    return getTBTCChefContract(contractConfig.TDOGE_CHEF, library);\n  }, [library]);\n\n  useEffect(() => {\n    getLatestExpandAmount(TDOGEChefContract, TDOGEESTPolicyContract).then(\n      data => {\n        setTDogeLatestExpandAmount(data);\n      }\n    );\n  }, [TDOGEESTPolicyContract, TDOGEChefContract]);\n\n\n  useEffect(() => {\n    getLatestExpandAmount(TBTCChefContract, TBTCSTPolicyContract).then(data => {\n      setTBTCLatestExpandAmount(data);\n    });\n  }, [TBTCSTPolicyContract, TBTCChefContract]);\n}\n\nexport function useGetLatestExpandAmount(symbol: string) {\n  const tdogeAmount = useRecoilValue(tDogeLatestExpandAmountAtom);\n  const tbtcAmount = useRecoilValue(tBTCLatestExpandAmountAtom);\n\n  const result = useMemo(() => {\n    if (symbol === TDOGE.symbol) {\n      return tdogeAmount;\n    }\n\n    if (symbol === TBTC.symbol) {\n      return tbtcAmount;\n    }\n\n    return '0';\n  }, [symbol, tdogeAmount, tbtcAmount]);\n\n  return result;\n}\n","import { TokenPriceList } from 'src/service';\n\nexport function getPriceBySymbol(list: TokenPriceList, symbol: string) {\n  const item = Object.values(list).find(p => p.symbol.toLowerCase() === symbol);\n\n  if (!item) {\n    return undefined;\n  }\n\n  return item.price;\n}\n\nexport function getTwapBySymbol(list: TokenPriceList, symbol: string) {\n  const item = Object.values(list).find(p => p.symbol.toLowerCase() === symbol);\n\n  if (!item) {\n    return undefined;\n  }\n\n  return item.twap;\n}\n","declare const window: any;\n\nconst track = (...args: any[]): void => {\n  if (process.env.NODE_ENV !== 'production') {\n    return;\n  }\n\n  if (!window.gtag) {\n    return;\n  }\n\n  window.gtag(...args);\n};\n\nconst pageview = (props: any): void => {\n  track('config', process.env.REACT_APP_GA_MEASUREMENT_ID, props);\n};\n\nconst event = (type: string, props: Record<string, any>) => {\n  track('event', type, props);\n};\n\nexport default {\n  pageview,\n  event\n};\n","import React, { useCallback, useRef } from 'react';\nimport type { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {\n  Button,\n  SvgIcon,\n  Typography,\n  makeStyles,\n  Box,\n  Toolbar,\n  Hidden,\n  IconButton,\n  Container,\n  ButtonGroup,\n  Menu,\n  MenuItem\n} from '@material-ui/core';\nimport LanguageIcon from '@material-ui/icons/Language';\nimport { Menu as MenuIcon } from 'react-feather';\nimport { useWeb3React } from '@web3-react/core';\nimport { useSetRecoilState } from 'recoil';\nimport { mobileNavOpenAtom, walletModalStatusAtom, accountModalStatusAtom } from 'src/atoms';\nimport i18n from 'src/i18n';\n\ninterface FooterProps {\n  className?: string;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  footer: {\n    position: 'fixed',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: '0px 5px 10px 0px rgb(255 255 255 / 70%)',\n    paddingTop: 16,\n    paddingBottom: 16\n  }\n}));\n\nconst Footer: FC<FooterProps> = ({ className, ...rest }) => {\n  const classes = useStyles();\n  const { account } = useWeb3React();\n  const actionRef = useRef<any>(null);\n  const setWalletModalStatus = useSetRecoilState(walletModalStatusAtom);\n  const setAccountModalStatus = useSetRecoilState(accountModalStatusAtom);\n\n  const connectWallet = useCallback(() => {\n    setWalletModalStatus(true);\n  }, [setWalletModalStatus]);\n\n  const openAccountModal = useCallback(() => {\n    setAccountModalStatus(true);\n  }, [setAccountModalStatus]);\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <Hidden lgUp>\n      <Container maxWidth={false}>\n        <Box\n          display=\"flex\"\n          alignItems=\"center\"\n          justifyContent=\"space-between\"\n          flexGrow={1}\n          className={classes.footer}\n        >\n          <Box ml={2}>\n            {\n              account\n                ? <Button variant=\"contained\" onClick={openAccountModal}>{`${account.slice(0, 4)}...${account.slice(-4)}`}</Button>\n                : <Button variant=\"contained\" color=\"primary\" ref={actionRef} onClick={connectWallet}>Connect Wallet</Button>\n            }\n          </Box>\n          <Box p={0}>\n            <Button onClick={(event) => setAnchorEl(event.currentTarget)}>\n              <LanguageIcon />\n            </Button>\n            <Menu\n              anchorEl={anchorEl}\n              keepMounted\n              open={Boolean(anchorEl)}\n              onClose={() => setAnchorEl(null)}\n            >\n              <MenuItem\n                onClick={() => {\n                  i18n.changeLanguage('en');\n                  setAnchorEl(null);\n                }}\n                selected={i18n.language === 'en'}\n              >EN</MenuItem>\n              <MenuItem\n                onClick={() => {\n                  i18n.changeLanguage('zh');\n                  setAnchorEl(null);\n                }}\n                selected={i18n.language === 'zh'}\n              >中文</MenuItem>\n            </Menu>\n          </Box>\n        </Box>\n      </Container>\n    </Hidden>\n  );\n};\n\nFooter.propTypes = {\n  className: PropTypes.string\n};\n\nexport default Footer;\n","import React, {\n  forwardRef,\n  useEffect,\n  useCallback\n} from 'react';\nimport type {\n  HTMLProps,\n  ReactNode\n} from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport track from 'src/utils/analytics';\nimport Footer from './Footer';\nimport { useFetchTokenPrice } from 'src/hooks/useFetchTokenPrice';\nimport { useFetchLatestExpandAmount } from 'src/hooks/useLatestExpandAmount';\n\ninterface PageProps extends HTMLProps<HTMLDivElement> {\n  children?: ReactNode;\n  title?: string;\n}\n\nconst Page = forwardRef<HTMLDivElement, PageProps>(({\n  children,\n  title = '',\n  ...rest\n}, ref) => {\n  const location = useLocation();\n  useFetchTokenPrice();\n  useFetchLatestExpandAmount();\n\n  const sendPageViewEvent = useCallback(() => {\n    track.pageview({\n      page_path: location.pathname\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    sendPageViewEvent();\n  }, [sendPageViewEvent]);\n\n  return (\n    <div\n      ref={ref as any}\n      {...rest}\n    >\n      <Helmet>\n        <title>{title}</title>\n      </Helmet>\n      {children}\n      <Footer />\n    </div>\n  );\n});\n\nPage.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string\n};\n\nexport default Page;\n","import { useEffect } from 'react';\nimport { useSetRecoilState } from 'recoil';\nimport { tokenPriceListAtom, tokenPriceLoadingAtom } from 'src/atoms';\nimport { getTokenPrice, TokenPriceList } from 'src/service';\nimport isEmpty from 'lodash/isEmpty';\n\nconst PRICE_CACHE_KEY = 'TOKEN_PRICE_LIST';\n\nexport function useFetchTokenPrice() {\n  const setTokenPriceList = useSetRecoilState(tokenPriceListAtom);\n  const setTokenPriceLoading = useSetRecoilState(tokenPriceLoadingAtom);\n\n  useEffect(() => {\n    setTokenPriceLoading(true);\n    if (localStorage.getItem(PRICE_CACHE_KEY)) {\n      try {\n        const list = JSON.parse(localStorage.getItem(PRICE_CACHE_KEY));\n        console.log('...', list);\n        if (!isEmpty(list)) {\n          setTokenPriceList(list);\n          setTokenPriceLoading(false);\n        }\n      } catch (e) {\n      }\n    }\n    getTokenPrice()\n      .then(list => {\n        if (!isEmpty(list)) {\n          localStorage.setItem(PRICE_CACHE_KEY, JSON.stringify(list));\n          setTokenPriceList(list);\n        }\n      })\n      .finally(() => {\n        setTokenPriceLoading(false);\n      });\n  }, []);\n}\n","import React, {\n  useCallback,\n  useRef,\n} from 'react';\nimport type { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {\n  Button,\n  SvgIcon,\n  Typography,\n  makeStyles,\n  Box,\n  Toolbar,\n  Hidden,\n  IconButton\n} from '@material-ui/core';\n// import { Send as SendIcon } from 'react-feather';\nimport { Menu as MenuIcon } from 'react-feather';\nimport { useWeb3React } from '@web3-react/core';\nimport { useSetRecoilState } from 'recoil';\nimport { mobileNavOpenAtom, walletModalStatusAtom, accountModalStatusAtom } from 'src/atoms';\n// import { useActiveWeb3React} from 'src/hooks/useActiveWeb3React';\nimport Logo from 'src/components/Logo';\n\ninterface HeaderProps {\n  className?: string;\n  title: string;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // zIndex: theme.zIndex.drawer + 100,\n    // backgroundColor: theme.palette.background.default\n    padding: 0\n  },\n  account: {\n    width: 80,\n  },\n  toolbar: {\n    minHeight: 64\n  }\n}));\n\nconst Header: FC<HeaderProps> = ({ className, title, ...rest }) => {\n  const classes = useStyles();\n  const { account } = useWeb3React();\n  const actionRef = useRef<any>(null);\n  const setWalletModalStatus = useSetRecoilState(walletModalStatusAtom);\n  const setAccountModalStatus = useSetRecoilState(accountModalStatusAtom);\n  const setMobileNavOpen = useSetRecoilState(mobileNavOpenAtom);\n\n  const showNav = useCallback(() => {\n    setMobileNavOpen(true);\n  }, [setMobileNavOpen])\n\n  const connectWallet = useCallback(() => {\n    setWalletModalStatus(true);\n  }, [setWalletModalStatus]);\n\n  const openAccountModal = useCallback(() => {\n    setAccountModalStatus(true);\n  }, [setAccountModalStatus]);\n\n  return (\n    <Toolbar className={clsx(classes.root, className)} {...rest}>\n      <Box\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"space-between\"\n        flexGrow={1}\n        pt={3}\n        pb={3}\n      >\n        <Hidden lgUp>\n          <Logo />\n          <IconButton\n            color=\"inherit\"\n            onClick={showNav}\n          >\n            <SvgIcon fontSize=\"small\" color=\"primary\">\n              <MenuIcon />\n            </SvgIcon>\n          </IconButton>\n        </Hidden>\n        <Hidden mdDown>\n          <Box flexGrow={1}>\n            <Typography variant=\"h3\" color=\"textPrimary\">\n              {\n                /* <SvgIcon fontSize=\"small\">\n                  <SendIcon />\n                </SvgIcon> */\n              }\n              {title}\n            </Typography>\n          </Box>\n          {/* <Box ml={2} flexGrow={1} /> */}\n          <Box>\n            {\n              account\n                ? <Button variant=\"contained\" onClick={openAccountModal}>{`${account.slice(0, 4)}...${account.slice(-4)}`}</Button> \n                : <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    ref={actionRef}\n                    onClick={connectWallet}\n                  >\n                    Connect Wallet\n                  </Button>\n            }\n          </Box>\n        </Hidden>\n      </Box>\n    </Toolbar >\n  );\n};\n\nHeader.propTypes = {\n  className: PropTypes.string\n};\n\nexport default Header;\n","import React, { FC } from 'react';\nimport clsx from 'clsx';\nimport { capitalize } from '@material-ui/core/utils';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles, ButtonProps } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  /* Styles applied to the root element. */\n  root: {},\n  /* Styles applied to the root element if `pending={true}`. */\n  pending: {},\n  /* Styles applied to the pendingIndicator element. */\n  pendingIndicator: {\n    position: 'absolute',\n    visibility: 'visible',\n    display: 'flex'\n  },\n  /* Styles applied to the pendingIndicator element if `pendingPosition=\"center\"`. */\n  pendingIndicatorCenter: {\n    left: '50%',\n    transform: 'translate(-50%)'\n  },\n  /* Styles applied to the pendingIndicator element if `pendingPosition=\"start\"`. */\n  pendingIndicatorStart: {\n    left: 14\n  },\n  /* Styles applied to the pendingIndicator element if `pendingPosition=\"end\"`. */\n  pendingIndicatorEnd: {\n    right: 14\n  },\n  /* Styles applied to the endIcon element if `pending={true}` and `pendingPosition=\"end\"`. */\n  endIconPendingEnd: {\n    visibility: 'hidden'\n  },\n  /* Styles applied to the startIcon element if `pending={true}` and `pendingPosition=\"start\"`. */\n  startIconPendingStart: {\n    visibility: 'hidden'\n  },\n  /* Styles applied to the label element if `pending={true}` and `pendingPosition=\"center\"`. */\n  labelPendingCenter: {\n    visibility: 'hidden'\n  }\n}))\n\nconst PendingIndicator = <CircularProgress color=\"inherit\" size={16} />;\n\n\nexport interface LoadingButtonProps extends ButtonProps {\n  pending?: boolean;\n  pendingIndicator?: React.ReactNode;\n  pendingPosition?: 'start' | 'end' | 'center'\n}\n\nconst LoadingButton: FC<LoadingButtonProps> = (props) => {\n  const {\n    children,\n    className,\n    disabled = false,\n    pending = false,\n    pendingIndicator = PendingIndicator,\n    pendingPosition = 'center',\n    ...other\n  } = props;\n\n  const classes = useStyles();\n\n  return (\n    <Button\n      className={clsx(\n        classes.root,\n        {\n          [classes.pending]: pending\n        },\n        className\n      )}\n      disabled={disabled || pending}\n      classes={{\n        startIcon:\n          classes[\n            `startIcon${pending ? 'Pending' : ''}${capitalize(pendingPosition)}`\n          ],\n        endIcon:\n          classes[\n            `endIcon${pending ? 'Pending' : ''}${capitalize(pendingPosition)}`\n          ],\n        label:\n          classes[\n            `label${pending ? 'Pending' : ''}${capitalize(pendingPosition)}`\n          ]\n      }}\n      {...other}\n    >\n      {pending && (\n        <div\n          className={clsx(\n            classes.pendingIndicator,\n            classes[`pendingIndicator${capitalize(pendingPosition)}`]\n          )}\n        >\n          {pendingIndicator}\n        </div>\n      )}\n\n      {children}\n    </Button>\n  );\n};\n\nexport default LoadingButton;\n","/*\n currency.js - v2.0.3\n http://scurker.github.io/currency.js\n\n Copyright (c) 2020 Jason Wilson\n Released under MIT license\n*/\n(function(e,g){\"object\"===typeof exports&&\"undefined\"!==typeof module?module.exports=g():\"function\"===typeof define&&define.amd?define(g):(e=e||self,e.currency=g())})(this,function(){function e(b,a){if(!(this instanceof e))return new e(b,a);a=Object.assign({},m,a);var d=Math.pow(10,a.precision);this.intValue=b=g(b,a);this.value=b/d;a.increment=a.increment||1/d;a.groups=a.useVedic?n:p;this.s=a;this.p=d}function g(b,a){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;var c=a.decimal;\nvar h=a.errorOnInvalid,k=a.fromCents,l=Math.pow(10,a.precision),f=b instanceof e;if(f&&k)return b.intValue;if(\"number\"===typeof b||f)c=f?b.value:b;else if(\"string\"===typeof b)h=new RegExp(\"[^-\\\\d\"+c+\"]\",\"g\"),c=new RegExp(\"\\\\\"+c,\"g\"),c=(c=b.replace(/\\((.*)\\)/,\"-$1\").replace(h,\"\").replace(c,\".\"))||0;else{if(h)throw Error(\"Invalid Input\");c=0}k||(c=(c*l).toFixed(4));return d?Math.round(c):c}var m={symbol:\"$\",separator:\",\",decimal:\".\",errorOnInvalid:!1,precision:2,pattern:\"!#\",negativePattern:\"-!#\",format:function(b,\na){var d=a.pattern,c=a.negativePattern,h=a.symbol,k=a.separator,l=a.decimal;a=a.groups;var f=(\"\"+b).replace(/^-/,\"\").split(\".\"),q=f[0];f=f[1];return(0<=b.value?d:c).replace(\"!\",h).replace(\"#\",q.replace(a,\"$1\"+k)+(f?l+f:\"\"))},fromCents:!1},p=/(\\d)(?=(\\d{3})+\\b)/g,n=/(\\d)(?=(\\d\\d)+\\d\\b)/g;e.prototype={add:function(b){var a=this.s,d=this.p;return e((this.intValue+g(b,a))/(a.fromCents?1:d),a)},subtract:function(b){var a=this.s,d=this.p;return e((this.intValue-g(b,a))/(a.fromCents?1:d),a)},multiply:function(b){var a=\nthis.s;return e(this.intValue*b/(a.fromCents?1:Math.pow(10,a.precision)),a)},divide:function(b){var a=this.s;return e(this.intValue/g(b,a,!1),a)},distribute:function(b){var a=this.intValue,d=this.p,c=this.s,h=[],k=Math[0<=a?\"floor\":\"ceil\"](a/b),l=Math.abs(a-k*b);for(d=c.fromCents?1:d;0!==b;b--){var f=e(k/d,c);0<l--&&(f=f[0<=a?\"add\":\"subtract\"](1/d));h.push(f)}return h},dollars:function(){return~~this.value},cents:function(){return~~(this.intValue%this.p)},format:function(b){var a=this.s;return\"function\"===\ntypeof b?b(this,a):a.format(this,Object.assign({},a,b))},toString:function(){var b=this.s,a=b.increment;return(Math.round(this.intValue/this.p/a)*a).toFixed(b.precision)},toJSON:function(){return this.value}};return e});\n","import { utils, BigNumber, FixedNumber } from 'ethers';\nimport { Token } from 'src/types/token';\nimport { useAsync } from 'react-async-hook';\nimport useAsyncEffect from 'use-async-effect';\nimport { getTokenPrice, getMineStatus, getPoolInfo } from 'src/service';\nimport { useActiveWeb3React } from './useActiveWeb3React';\nimport { getERC20Contract, getTBTCChefContract } from 'src/utils/contract';\nimport { useEffect, useMemo, useState } from 'react';\nimport {\n  FarmingInfoMap,\n  BTCB,\n  TBTC,\n  FarmingPidMap,\n  TDOGE,\n  FarmingTDogePidMap\n} from 'src/constants/token';\nimport {\n  calculateDailyReward,\n  getDailyRewardsByBlock,\n  getDOGEDailyRewardsByBlock\n} from 'src/utils';\nimport { formatApy } from 'src/utils/format';\nimport { getPriceBySymbol } from 'src/utils/price';\nimport { useRecoilValue } from 'recoil';\nimport { tokenPriceListAtom, tokenPriceLoadingAtom } from 'src/atoms';\nimport isEmpty from 'lodash/isEmpty';\nimport { contractConfig } from 'src/config';\nimport { useGetLatestExpandAmount } from './useLatestExpandAmount';\n\nconst DISTRIBUTE_LINE = '0.6';\n\nexport function useDailyPool(\n  sourceToken: Token,\n  targetToken: Token,\n  txHappend: number = 0\n) {\n  const { account, library } = useActiveWeb3React();\n  const tokenPrice = useRecoilValue(tokenPriceListAtom);\n  const tokenPriceLoading = useRecoilValue(tokenPriceLoadingAtom);\n  const [loading, setLoading] = useState(true);\n  const [sourceStakeAmount, setSourceStakeAmount] = useState<BigNumber>();\n  const [tokenRewardPerStake, setTokenRewardPerStake] = useState<FixedNumber>();\n  const [usdRewardPerStake, setUsdTokenRewardPerStake] = useState<\n    FixedNumber\n  >();\n  const [afterUsdRewardPerStake, setAfterUsdTokenRewardPerStake] = useState<\n    FixedNumber\n  >();\n  const [rewardDiff, setRewardDiff] = useState(false);\n  const latestExpandAmount = useGetLatestExpandAmount(targetToken.symbol);\n\n  const farmingInfo = useMemo(() => {\n    return FarmingInfoMap[targetToken.symbol];\n  }, [targetToken.symbol]);\n\n  const sourceTokenERC20Contract = useMemo(() => {\n    return sourceToken && sourceToken.address\n      ? getERC20Contract(sourceToken.address, library, account)\n      : null;\n  }, [sourceToken, library, account]);\n\n  useAsyncEffect(async () => {\n    setLoading(true);\n    if (tokenPriceLoading || isEmpty(tokenPrice)) {\n      return;\n    }\n\n    try {\n      if (\n        targetToken.symbol === TBTC.symbol ||\n        targetToken.symbol === TDOGE.symbol\n      ) {\n        let contractAddress = contractConfig.TBTC_CHEF;\n        let pidMap = FarmingPidMap;\n        if (targetToken.symbol === TDOGE.symbol) {\n          contractAddress = contractConfig.TDOGE_CHEF;\n          pidMap = FarmingTDogePidMap;\n        }\n        const contract = getTBTCChefContract(contractAddress, library, account);\n        const poolInfo = await getPoolInfo(\n          contract,\n          pidMap[sourceToken.symbol]\n        );\n        let sourceStakeAmount = poolInfo.totalDepositAmount;\n        if (sourceStakeAmount.isZero()) {\n          return;\n        }\n        const stakedTokenShrinkFactor = poolInfo.stakedTokenShrinkFactor;\n        if (stakedTokenShrinkFactor > 0) {\n          sourceStakeAmount = sourceStakeAmount\n            .mul(stakedTokenShrinkFactor)\n            .div(BigNumber.from(1e27 + ''));\n        }\n\n        setSourceStakeAmount(sourceStakeAmount);\n\n        const hashrate = FixedNumber.from(\n          utils.formatUnits(sourceStakeAmount, sourceToken.decimals) + ''\n        );\n        const { before: tokenReward, after: afterTokenReward } =\n          targetToken.symbol === TBTC.symbol\n            ? getDailyRewardsByBlock(\n                sourceToken.symbol,\n                targetToken.symbol,\n                latestExpandAmount\n              )\n            : getDOGEDailyRewardsByBlock(\n                sourceToken.symbol,\n                targetToken.symbol,\n                latestExpandAmount\n              );\n\n        const price = FixedNumber.from(\n          '' + getPriceBySymbol(tokenPrice, targetToken.symbol)\n        );\n\n        const tps = tokenReward.divUnsafe(hashrate);\n        const afterTps = afterTokenReward.divUnsafe(hashrate);\n        const ups = tps.mulUnsafe(price);\n        const afterUps = afterTps.mulUnsafe(price);\n\n        setTokenRewardPerStake(tps);\n        setUsdTokenRewardPerStake(ups);\n        setAfterUsdTokenRewardPerStake(afterUps);\n        setRewardDiff(!afterTokenReward.subUnsafe(tokenReward).isZero());\n      } else {\n        const BTCBStakeAmount: BigNumber = await sourceTokenERC20Contract.balanceOf(\n          contractConfig.FARM\n        );\n        const BTCSTStakeAmount: BigNumber = await sourceTokenERC20Contract.balanceOf(\n          contractConfig.FARM_BTCST\n        );\n\n        setSourceStakeAmount(\n          targetToken.symbol === 'btcb' ? BTCBStakeAmount : BTCSTStakeAmount\n        );\n\n        const totalAmount = BTCBStakeAmount.add(BTCSTStakeAmount);\n        const prehash = FixedNumber.from(\n          utils.formatUnits(totalAmount, sourceToken.decimals) + ''\n        );\n        let hashrate = prehash;\n        const sourceSupplyAmount: BigNumber = await sourceTokenERC20Contract.totalSupply();\n        if (\n          FixedNumber.from(totalAmount)\n            .divUnsafe(FixedNumber.from(sourceSupplyAmount))\n            .subUnsafe(FixedNumber.from(DISTRIBUTE_LINE))\n            .isNegative()\n        ) {\n          hashrate = FixedNumber.from(DISTRIBUTE_LINE).mulUnsafe(\n            FixedNumber.fromString(\n              utils.formatUnits(sourceSupplyAmount, sourceToken.decimals) + ''\n            )\n          );\n        }\n\n        const mineBTCBStatus = await getMineStatus();\n        const dailyBtcPerHash = FixedNumber.from(\n          mineBTCBStatus.dayList[0].eachHaveCoin\n        );\n        const price = FixedNumber.from(\n          '' + getPriceBySymbol(tokenPrice, BTCB.symbol)\n        );\n        console.log(\n          'calculate netreward using pric:' +\n            price +\n            ' daily btc per TH:' +\n            dailyBtcPerHash +\n            ' hashrate:' +\n            hashrate\n        );\n\n        const { btc, usd } = calculateDailyReward(\n          hashrate.mulUnsafe(FixedNumber.from('0.01')),\n          dailyBtcPerHash,\n          price\n        );\n\n        const tps = btc.divUnsafe(prehash);\n        const ups = usd.divUnsafe(prehash);\n\n        setTokenRewardPerStake(tps);\n        setUsdTokenRewardPerStake(ups);\n        setAfterUsdTokenRewardPerStake(ups);\n      }\n    } catch (e) {\n      console.error(e);\n      console.log('get apy error');\n    } finally {\n      setLoading(false);\n    }\n  }, [\n    sourceToken,\n    targetToken,\n    sourceTokenERC20Contract,\n    tokenPrice,\n    latestExpandAmount,\n    library,\n    account,\n    txHappend\n  ]);\n\n  const apy = useMemo(() => {\n    const price = getPriceBySymbol(tokenPrice, sourceToken.symbol);\n    if (!loading && usdRewardPerStake && afterUsdRewardPerStake && price) {\n      return formatApy(\n        sourceToken,\n        usdRewardPerStake,\n        afterUsdRewardPerStake,\n        FixedNumber.fromString('' + price),\n        targetToken\n      );\n    }\n  }, [\n    sourceToken,\n    usdRewardPerStake,\n    afterUsdRewardPerStake,\n    tokenPrice,\n    loading,\n    txHappend\n  ]);\n\n  return {\n    loading,\n    farmingInfo,\n    sourceStakeAmount,\n    usdRewardPerStake,\n    afterUsdRewardPerStake,\n    tokenRewardPerStake,\n    apy,\n    rewardDiff\n    // afterApy\n  };\n}\n","'use strict';\n\nvar React = require('react');\n\nfunction useAsyncEffect(effect, destroy, inputs) {\n  var hasDestroy = typeof destroy === 'function';\n\n  React.useEffect(function () {\n    var result;\n    var mounted = true;\n    var maybePromise = effect(function () {\n      return mounted;\n    });\n\n    Promise.resolve(maybePromise).then(function (value) {\n      result = value;\n    });\n\n    return function () {\n      mounted = false;\n\n      if (hasDestroy) {\n        destroy(result);\n      }\n    };\n  }, hasDestroy ? inputs : destroy);\n}\n\nmodule.exports = useAsyncEffect;\nmodule.exports.useAsyncEffect = useAsyncEffect;\n","import React, { FC, useEffect, useMemo, useState } from 'react';\nimport {\n  Typography,\n  makeStyles,\n  Grid,\n  Box,\n  TextField,\n  CircularProgress,\n  Button,\n  Divider\n} from '@material-ui/core';\nimport { useFormik } from 'formik';\nimport LoadingButton from 'src/components/LoadingButton';\nimport { BigNumber, FixedNumber } from '@ethersproject/bignumber';\nimport { utils } from 'ethers';\nimport { Theme } from 'src/theme';\nimport { formatBalance, parseBalance } from 'src/utils/format';\nimport { isEmptyValue, calculateDailyReward } from 'src/utils';\nimport currency from 'currency.js';\nimport { useTranslation } from 'react-i18next';\nimport { BTCB } from 'src/constants/token';\nimport { getPriceBySymbol } from 'src/utils/price';\nimport { tokenPriceLoadingAtom } from 'src/atoms';\nimport { useRecoilValue } from 'recoil';\nimport isEmpty from 'lodash/isEmpty';\n\nconst DISTRIBUTE_LINE = '0.6';\n\ninterface StakeContentProps {\n  state: any;\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  inputArea: {\n    marginBottom: '15px'\n  }\n}));\n\nfunction apyDisplay(apy: { data: string; diff: FixedNumber }) {\n  const diffResult =\n    apy.diff.isNegative() || apy.diff.isZero()\n      ? ''\n      : `(${apy.diff.toString()}% from inflation)`;\n\n  return (\n    <>\n      <span>{apy.data}</span>\n      {diffResult && <span>{diffResult}</span>}\n    </>\n  );\n}\n\nconst percentMap = [\n  {\n    title: '25%',\n    value: 0.25,\n    cal: [1, 4]\n  },\n  {\n    title: '50%',\n    value: 0.5,\n    cal: [1, 2]\n  },\n  {\n    title: '75%',\n    value: 0.75,\n    cal: [3, 4]\n  },\n  {\n    title: '100%',\n    value: 1,\n    cal: [1, 1]\n  }\n];\n\nconst StakeContent: FC<StakeContentProps> = ({ state }) => {\n  const classes = useStyles();\n\n  const { t } = useTranslation();\n  const {\n    stokenAllowed,\n    asyncApproveClick,\n    asyncStakeClick,\n    sourceToken,\n    targetToken,\n    sourceBalance,\n    yourStakeAmount,\n    sourceStakeAmount,\n    tokenPrice,\n    apy,\n    usdRewardPerStake,\n    afterUsdRewardPerStake,\n    tokenRewardPerStake,\n    rewardDiff,\n    poolLoading\n  } = state;\n\n  const tokenPriceLoading = useRecoilValue(tokenPriceLoadingAtom);\n\n  const formik = useFormik({\n    initialValues: {\n      amount: '0'\n    },\n    onSubmit: () => {}\n  });\n\n  const {\n    handleChange,\n    handleSubmit,\n    isSubmitting,\n    touched,\n    values,\n    errors,\n    setFieldValue\n  } = formik;\n\n  const [estRewardTokenAmount, setEstRewardTokenAmount] = useState<\n    FixedNumber\n  >();\n  const [beforeEstRewardTokenAmount, setBeforeEstRewardTokenAmount] = useState<\n    FixedNumber\n  >();\n  const [estRewardUsd, setEstRewardUsd] = useState<FixedNumber>();\n  const [beforeEstRewardUsd, setBeforeEstRewardUsd] = useState<FixedNumber>();\n  const targetTokenPrice = useMemo(() => {\n    if (!isEmpty(tokenPrice)) {\n      return getPriceBySymbol(tokenPrice, targetToken?.symbol);\n    }\n  }, [tokenPrice, targetToken]);\n\n  const sourceTokenPrice = useMemo(() => {\n    if (!isEmpty(tokenPrice)) {\n      return getPriceBySymbol(tokenPrice, sourceToken?.symbol);\n    }\n  }, [tokenPrice, sourceToken]);\n\n  useEffect(() => {\n    if (tokenRewardPerStake && afterUsdRewardPerStake && values.amount) {\n      const amount = FixedNumber.from(\n        utils.formatUnits(\n          parseBalance(values.amount + '', sourceToken.decimals),\n          sourceToken.decimals\n        )\n      );\n      const ru = afterUsdRewardPerStake.mulUnsafe(amount);\n      const beforeRu = usdRewardPerStake.mulUnsafe(amount);\n\n      setEstRewardUsd(ru);\n      setBeforeEstRewardUsd(beforeRu);\n\n      if (targetTokenPrice) {\n        // console.log(\"----tokenRewardPerStake,usdRewardPerStake\",\n        //   tokenRewardPerStake+\"\",usdRewardPerStake+\"\",amount+\"\",price);\n        setEstRewardTokenAmount(\n          ru.divUnsafe(FixedNumber.from(targetTokenPrice + ''))\n        );\n\n        setBeforeEstRewardTokenAmount(\n          beforeRu.divUnsafe(FixedNumber.from(targetTokenPrice + ''))\n        );\n      }\n    }\n  }, [\n    tokenRewardPerStake,\n    usdRewardPerStake,\n    afterUsdRewardPerStake,\n    values.amount,\n    targetTokenPrice,\n    sourceToken\n  ]);\n\n  return sourceBalance.loading ? (\n    <CircularProgress />\n  ) : (\n    <form className={classes.root} onSubmit={handleSubmit}>\n      <Typography variant=\"h6\">\n        {t('mine.staking.readyToBeStaked')}:{' '}\n        {sourceBalance.result &&\n          formatBalance(sourceBalance.result, sourceToken.decimals)}\n      </Typography>\n      <Box mt={2} className={classes.inputArea}>\n        <Grid container spacing={2}>\n          <Grid item xs={12} sm={6}>\n            <TextField\n              type=\"number\"\n              name=\"amount\"\n              label={t('mine.staking.stakedAmountInput')}\n              error={Boolean(touched.amount && errors.amount)}\n              helperText={touched.amount && errors.amount}\n              fullWidth\n              required\n              value={values.amount}\n              onChange={handleChange}\n              variant=\"outlined\"\n            />\n          </Grid>\n          <Grid item container xs={12} sm={6}>\n            {percentMap.map(item => (\n              <Grid key={item.value} item xs={3}>\n                <Button\n                  variant=\"contained\"\n                  onClick={() => {\n                    const m = item.cal[0];\n                    const d = item.cal[1];\n                    setFieldValue(\n                      'amount',\n                      utils.formatUnits(\n                        sourceBalance.result\n                          .mul(BigNumber.from(m))\n                          .div(BigNumber.from(d)),\n                        sourceToken.decimals\n                      )\n                    );\n                  }}\n                >\n                  {item.title}\n                </Button>\n              </Grid>\n            ))}\n          </Grid>\n        </Grid>\n      </Box>\n      <Typography variant=\"body2\">\n        {t('mine.staking.estyDailyReward')} ({targetToken.name}) :{' '}\n        {estRewardTokenAmount && !estRewardTokenAmount.isNegative()\n          ? formatBalance(estRewardTokenAmount as any, 18, 8)\n          : ''}\n        {rewardDiff &&\n        estRewardTokenAmount &&\n        !estRewardTokenAmount.isNegative() &&\n        !estRewardTokenAmount.isZero() &&\n        beforeEstRewardTokenAmount &&\n        !beforeEstRewardTokenAmount.isNegative()\n          ? `(${formatBalance(\n              estRewardTokenAmount.subUnsafe(beforeEstRewardTokenAmount) as any,\n              18,\n              8\n            )} from inflation)`\n          : ''}\n      </Typography>\n      <Typography variant=\"body2\">\n        {t('mine.staking.estyDailyReward')} (USD) :\n        {estRewardUsd && !estRewardUsd.isNegative()\n          ? '$' + formatBalance(estRewardUsd as any, 18, 4)\n          : ''}\n        {rewardDiff &&\n        estRewardUsd &&\n        !estRewardUsd.isNegative() &&\n        !estRewardUsd.isZero() &&\n        beforeEstRewardUsd &&\n        !beforeEstRewardUsd.isNegative()\n          ? `($${formatBalance(\n              estRewardUsd.subUnsafe(beforeEstRewardUsd) as any,\n              18,\n              4\n            )} from inflation)`\n          : ''}\n      </Typography>\n      <Typography variant=\"body2\">\n        {t('mine.staking.apy')} : {apy ? apyDisplay(apy) : '-'}\n      </Typography>\n      <Box mt={2}>\n        {(sourceBalance.result && sourceBalance.result.isZero()) ||\n        isEmptyValue(values.amount + '') ? (\n          <Button\n            fullWidth\n            color=\"secondary\"\n            disabled={true}\n            size=\"large\"\n            type=\"submit\"\n            variant=\"contained\"\n          >\n            {t('mine.staking.stake')}\n          </Button>\n        ) : parseBalance(\n            //FixedNumber.fromString(values.amount + '').round() + '',\n            values.amount + '',\n            sourceToken.decimals\n          ).gt(sourceBalance.result) ? (\n          <Button\n            fullWidth\n            color=\"secondary\"\n            disabled={true}\n            size=\"large\"\n            type=\"submit\"\n            variant=\"contained\"\n          >\n            {t('mine.staking.insufficientBalance')}\n          </Button>\n        ) : stokenAllowed ? (\n          <LoadingButton\n            fullWidth\n            color=\"secondary\"\n            // disabled={isSubmitting}\n            pending={asyncStakeClick.loading}\n            size=\"large\"\n            type=\"submit\"\n            variant=\"contained\"\n            onClick={async () => {\n              await asyncStakeClick.execute(\n                parseBalance(values.amount + '', sourceToken.decimals)\n              );\n              setFieldValue('amount', '0');\n            }}\n          >\n            {t('mine.staking.stake')}\n          </LoadingButton>\n        ) : (\n          <LoadingButton\n            fullWidth\n            color=\"secondary\"\n            // disabled={isSubmitting}\n            pending={asyncApproveClick.loading}\n            size=\"large\"\n            type=\"submit\"\n            variant=\"contained\"\n            onClick={() => asyncApproveClick.execute()}\n          >\n            {t('mine.staking.approve')}\n          </LoadingButton>\n        )}\n      </Box>\n      <Box mt={2}>\n        <Grid container spacing={2}>\n          <Grid item xs={6}>\n            <Typography variant=\"body2\">\n              {t('mine.staking.youStaked')} :{' '}\n              {yourStakeAmount.loading || tokenPriceLoading\n                ? 'loading'\n                : formatBalance(yourStakeAmount.result, sourceToken.decimals)}\n            </Typography>\n          </Grid>\n          <Grid item xs={6}>\n            <Typography variant=\"body2\">\n              {t('mine.staking.totalStaked')}:{' '}\n              {sourceStakeAmount\n                ? formatBalance(sourceStakeAmount, sourceToken.decimals, 8)\n                : '-'}\n            </Typography>\n          </Grid>\n        </Grid>\n        <Grid container spacing={2}>\n          <Grid item xs={6}>\n            <Typography variant=\"body2\">\n              {t('mine.staking.youStaked')} (USD):{' '}\n              {yourStakeAmount.loading || tokenPriceLoading || !sourceTokenPrice\n                ? 'loading'\n                : currency(\n                    FixedNumber.from('' + sourceTokenPrice)\n                      .mulUnsafe(\n                        FixedNumber.from(\n                          utils.formatUnits(\n                            yourStakeAmount.result,\n                            sourceToken.decimals\n                          )\n                        )\n                      )\n                      .toString()\n                  ).format()}\n            </Typography>\n          </Grid>\n          <Grid item xs={6}>\n            <Typography variant=\"body2\">\n              {t('mine.staking.totalStaked')} (USD):{' '}\n              {sourceStakeAmount && tokenPrice\n                ? currency(\n                    FixedNumber.from('' + sourceTokenPrice)\n                      .mulUnsafe(\n                        FixedNumber.from(\n                          utils.formatUnits(\n                            sourceStakeAmount,\n                            sourceToken.decimals\n                          )\n                        )\n                      )\n                      .toString()\n                  ).format()\n                : '-'}\n            </Typography>\n          </Grid>\n        </Grid>\n      </Box>\n      {/* <Box mt={2}>\n        <LoadingButton\n          fullWidth\n          color=\"secondary\"\n          // disabled={isSubmitting}\n          size=\"large\"\n          type=\"submit\"\n          variant=\"contained\"\n          onClick={() => asyncApproveClick.execute(BigNumber.from(0))}\n        >\n          Rollback Approve\n        </LoadingButton>\n      </Box> */}\n    </form>\n  );\n};\n\nexport default StakeContent;\n","import React, { FC, useEffect, useMemo } from 'react';\nimport {\n  Typography,\n  makeStyles,\n  Grid,\n  Box,\n  TextField,\n  Button,\n  CircularProgress\n} from '@material-ui/core';\nimport { useFormik } from 'formik';\nimport { useStakeState } from 'src/hooks/useStakeState';\nimport {\n  commonFormatBalance,\n  formatBalance,\n  parseBalance\n} from 'src/utils/format';\nimport { FixedNumber, utils, BigNumber } from 'ethers';\nimport { isEmptyValue } from 'src/utils';\nimport { useTranslation } from 'react-i18next';\nimport LoadingButton from 'src/components/LoadingButton';\n\ninterface UnstakeContentProps {\n  state: any;\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {}\n}));\n\nconst percentMap = [\n  {\n    title: '25%',\n    value: 0.25,\n    cal: [1, 4]\n  },\n  {\n    title: '50%',\n    value: 0.5,\n    cal: [1, 2]\n  },\n  {\n    title: '75%',\n    value: 0.75,\n    cal: [3, 4]\n  },\n  {\n    title: '100%',\n    value: 1,\n    cal: [1, 1]\n  }\n];\n\nconst UnstakeContent: FC<UnstakeContentProps> = ({ state }) => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const {\n    targetToken,\n    yourStakeAmount,\n    asyncUnstakeClick,\n    sourceToken\n  } = state;\n\n  const formik = useFormik({\n    initialValues: {\n      amount: '0.0'\n    },\n    onSubmit: () => {}\n  });\n\n  const {\n    handleChange,\n    handleSubmit,\n    isSubmitting,\n    touched,\n    values,\n    errors,\n    setFieldValue\n  } = formik;\n\n  const insufficientBalance = parseBalance(\n    values.amount + '' || '0',\n    sourceToken.decimals\n  ).gt(yourStakeAmount.result || BigNumber.from(0));\n\n  return yourStakeAmount.loading ? (\n    <CircularProgress />\n  ) : (\n    <form className={classes.root} onSubmit={handleSubmit}>\n      <Typography variant=\"h6\">\n        {t('mine.staking.youStaked')}:{' '}\n        {yourStakeAmount.loading\n          ? 'loading'\n          : formatBalance(yourStakeAmount.result, sourceToken.decimals)}\n      </Typography>\n      <Box mt={2}>\n        <Grid container spacing={2}>\n          <Grid item xs={12} sm={6}>\n            <TextField\n              type=\"number\"\n              name=\"amount\"\n              label={t('mine.staking.unstakedAmountInput')}\n              error={Boolean(touched.amount && errors.amount)}\n              helperText={touched.amount && errors.amount}\n              fullWidth\n              required\n              value={values.amount}\n              onChange={handleChange}\n              variant=\"outlined\"\n            />\n          </Grid>\n          <Grid item container xs={12} sm={6}>\n            {percentMap.map(item => (\n              <Grid key={item.value} item xs={3}>\n                <Button\n                  variant=\"contained\"\n                  onClick={() => {\n                    const m = item.cal[0];\n                    const d = item.cal[1];\n                    setFieldValue(\n                      'amount',\n                      utils.formatUnits(\n                        yourStakeAmount.result\n                          .mul(BigNumber.from(m))\n                          .div(BigNumber.from(d)),\n                        sourceToken.decimals\n                      )\n                    );\n                  }}\n                >\n                  {item.title}\n                </Button>\n              </Grid>\n            ))}\n          </Grid>\n        </Grid>\n      </Box>\n      <Box mt={2}>\n        <LoadingButton\n          fullWidth\n          color=\"secondary\"\n          disabled={isEmptyValue(values.amount + '') || insufficientBalance}\n          pending={asyncUnstakeClick.loading}\n          size=\"large\"\n          type=\"submit\"\n          variant=\"contained\"\n          onClick={() =>\n            asyncUnstakeClick.execute(\n              parseBalance(values.amount + '', sourceToken.decimals)\n            )\n          }\n        >\n          {insufficientBalance\n            ? t('mine.staking.insufficientBalance')\n            : t('mine.staking.unstake')}\n        </LoadingButton>\n      </Box>\n    </form>\n  );\n};\n\nexport default UnstakeContent;\n","import { BigNumber } from 'ethers';\nimport { useAsync, useAsyncCallback } from 'react-async-hook';\nimport { MaxUint256 } from '@ethersproject/constants';\nimport { toastConfig } from 'src/config';\nimport { useCallback, useEffect, useState, useMemo } from 'react';\nimport { useQuery } from 'src/hooks/useQuery';\nimport { TokenList, BTCB, BTCST, TBTC,FarmingInfoMap,FarmingPidMap, TDOGE, FarmingTDogePidMap } from 'src/constants/token';\nimport { Token,EnTokenMining } from 'src/types/token';\nimport { getERC20Contract, getFarmBTCSTContract,getTBTCChefContract } from 'src/utils/contract';\nimport { useActiveWeb3React } from './useActiveWeb3React';\nimport { toast } from 'react-toastify';\nimport { useDailyPool } from './useDailyPool';\nimport { useRecoilValue } from 'recoil';\nimport { tokenPriceListAtom } from 'src/atoms';\nconst EXPAND_BASE = BigNumber.from(1e12);\nconst minAllowance = BigNumber.from(2)\n  .pow(96)\n  .sub(1); \nexport const useStakeState = () => {\n  const { account, library } = useActiveWeb3React();\n  const query = useQuery();\n  const tokenPrice = useRecoilValue(tokenPriceListAtom);\n  const [stokenAllowed, setStokenAllowed] = useState<boolean>(false);\n  const [txHappend,setTxHappend] = useState<number>(0);\n  const [sourceToken, targetToken] = useMemo(() => {\n    const pair = query.get('pair');\n    if (!pair) {\n      return [null, null];\n    }\n\n    return pair.split('/').map(name => {\n      if (!TokenList[name]) {\n        console.error('Invalid pair');\n        return null;\n      }\n\n      return TokenList[name] as Token;\n    });\n  }, [query.get]);\n\n  const {\n    loading,\n    farmingInfo,\n    // sourceSupplyAmount,\n    sourceStakeAmount,\n    usdRewardPerStake,\n    afterUsdRewardPerStake,\n    tokenRewardPerStake,\n    apy,\n    rewardDiff,\n  } = useDailyPool(sourceToken, targetToken, txHappend);\n\n  const stakingPid = useMemo(()=>{\n    if (targetToken.symbol === TDOGE.symbol) {\n      return sourceToken && sourceToken.symbol\n        ? FarmingTDogePidMap[sourceToken.symbol]\n        : 0;\n    }\n\n    if (targetToken.symbol === TBTC.symbol) {\n      return sourceToken && sourceToken.symbol\n        ? FarmingPidMap[sourceToken.symbol]\n        : 0;\n    }\n  },[sourceToken, targetToken]);\n\n  const sourceTokenERC20Contract = useMemo(() => {\n    return sourceToken && sourceToken.address\n      ? getERC20Contract(sourceToken.address, library, account)\n      : null;\n  }, [sourceToken, library, account]);\n  \n  const farmContract = useMemo(() => {\n    return farmingInfo\n      ? (farmingInfo.type== EnTokenMining.DAILY ? \n          getFarmBTCSTContract(\n            farmingInfo.address,\n            library,\n            account\n        ):getTBTCChefContract(\n            farmingInfo.address,\n            library,\n            account))\n      : null;\n  }, [targetToken, library, account]);\n\n\n  const sourceBalance = useAsync<BigNumber>(() => {\n    return sourceTokenERC20Contract.balanceOf(account);\n  }, [sourceTokenERC20Contract, account, txHappend]);\n\n  // TODO: diff  block/daily \n\n\n  const allowance = useAsync<BigNumber>(() => {\n    return sourceTokenERC20Contract.allowance(\n      account,\n      farmingInfo ? farmingInfo.address : null\n    );\n  }, [\n    sourceTokenERC20Contract,\n    account,\n    farmingInfo,\n    txHappend\n  ]);\n\n  const asyncApproveClick = useAsyncCallback(\n    async (amount: BigNumber = MaxUint256) => {\n      \n      const gasLimit = await sourceTokenERC20Contract.estimateGas.approve(farmingInfo.address, amount);\n      const tx = await sourceTokenERC20Contract.approve(farmingInfo.address, amount, {\n        gasLimit\n      });\n      \n      if (tx) {\n        await tx.wait();\n        setTxHappend(txHappend + 1);\n      }\n\n      return true;\n    }\n  );\n\n  const asyncStakeClick = useAsyncCallback(async (amount: BigNumber) => {\n    console.log(\"staking\",amount+\"\");\n    let tx;\n    try {\n      if (farmingInfo.type == EnTokenMining.DAILY){\n        const gasLimit = await farmContract.estimateGas.apiDepositToMining(amount);\n        tx = await farmContract.apiDepositToMining(amount, {\n          gasLimit: gasLimit.mul(120).div(100)\n        });\n      }\n      if (farmingInfo.type == EnTokenMining.BLOCK){\n        let gasLimit = await farmContract.estimateGas.deposit(stakingPid,amount);\n        gasLimit = gasLimit.mul(150).div(100)\n        if (gasLimit.lt(BigNumber.from(250000))){\n          gasLimit = BigNumber.from(250000);\n        }\n        tx = await farmContract.deposit(stakingPid,amount, {\n          gasLimit: gasLimit\n        });\n      }\n    } catch (e) {\n      // toast.error(e?.data?.message || 'Network error', toastConfig);\n    }\n    if (tx){\n      await tx.wait();\n      setTxHappend(txHappend + 1);\n    }\n  });\n\n  const asyncUnstakeClick = useAsyncCallback(async (amount: BigNumber) => {\n    let tx;\n    if (farmingInfo.type === EnTokenMining.DAILY){\n      const gasLimit = await farmContract.estimateGas.apiWithdrawLatestSToken(\n        amount\n      );\n      tx = await farmContract.apiWithdrawLatestSToken(amount, {\n        gasLimit: gasLimit.mul(120).div(100)\n      });\n    }\n    if (farmingInfo.type === EnTokenMining.BLOCK){\n      console.log(farmContract.withdraw.estimateGas);\n      let gasLimit = await farmContract.estimateGas.withdraw(stakingPid,amount);\n      gasLimit = gasLimit.mul(150).div(100)\n      if (gasLimit.lt(BigNumber.from(250000))){\n        gasLimit = BigNumber.from(250000);\n      }\n      tx = await farmContract.withdraw(stakingPid,amount, {\n        gasLimit: gasLimit\n      });\n    }\n    if (tx){\n      await tx.wait();\n      setTxHappend(txHappend + 1);\n    }\n  })\n\n  useEffect(() => {\n    setStokenAllowed(allowance.result && allowance.result.gte(minAllowance));\n  }, [allowance.result, asyncApproveClick.result]);\n\n  const poolInfo = useAsync<any>(() => {\n    if (farmingInfo.type === EnTokenMining.BLOCK) {\n      return farmContract.poolInfo(stakingPid);\n    }\n    return undefined;\n  },[farmContract, account, stakingPid, txHappend]);\n\n\n  // const farmUserInfo = useAsync<any>(viewUserInfo, [farmContract, account]);\n  const farmUserInfo = useAsync<any>(() => {\n    if (farmingInfo.type === EnTokenMining.BLOCK) {\n      return farmContract.stakingInfo(stakingPid, account);\n    } else {\n      return farmContract.viewUserInfo(account);\n    }\n  }, [farmContract, account, stakingPid, txHappend]);\n\n\n  const yourStakeAmount = useMemo(() => {\n    const info = farmUserInfo.result;\n    let result = info\n      ? farmingInfo.type === EnTokenMining.BLOCK\n        ? info.amount\n        : info.amount.add(info.lockedAmount)\n      : BigNumber.from(0);\n    if (poolInfo && info && farmingInfo.type === EnTokenMining.BLOCK) {\n      if (poolInfo.result && poolInfo.result.stakedTokenShrinkFactor.gt(0)) {\n        result = result\n          .mul(poolInfo.result.stakedTokenShrinkFactor)\n          .div(EXPAND_BASE);\n      }\n    }\n    return { \n      loading: farmUserInfo.loading,\n      error: farmUserInfo.error,\n      result\n    }\n  }, [poolInfo,targetToken, farmUserInfo.result, farmUserInfo.loading, farmUserInfo.error]);\n  \n  return {\n    stokenAllowed,\n    asyncApproveClick,\n    asyncStakeClick,\n    asyncUnstakeClick,\n    sourceToken,\n    targetToken,\n    account,\n    sourceBalance,\n    yourStakeAmount,\n    sourceStakeAmount,\n    // sourceSupplyAmount,\n    tokenPrice,\n    usdRewardPerStake,\n    afterUsdRewardPerStake,\n    tokenRewardPerStake,\n    apy,\n    rewardDiff,\n    poolLoading: loading\n  };\n};\n","import { useLocation } from \"react-router-dom\";\n\nexport function useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n","import React, { FC, useCallback, useState, useEffect } from 'react';\nimport {\n  Container,\n  makeStyles,\n  Box,\n  Divider,\n  Card,\n  CardContent,\n  CardHeader,\n  Avatar,\n  Select,\n  MenuItem,\n  Grid,\n  Switch,\n  TextField,\n  Breadcrumbs,\n  Link\n} from '@material-ui/core';\n\nimport Page from 'src/components/Page';\nimport Header from 'src/components/Header';\nimport { Theme } from 'src/theme';\nimport StakeContent from './StakeContent';\nimport UnstakeContent from './UnstakeContent';\nimport { useStakeState } from 'src/hooks/useStakeState';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    minHeight: '100%'\n    // paddingTop: theme.spacing(3),\n    // paddingBottom: theme.spacing(3)\n  },\n\n  icon: {\n    marginRight: 5,\n    display: 'inline-block',\n    width: 21,\n    height: 21,\n    background: '#000000',\n    borderRadius: '35px'\n  },\n  text: {\n    marginRight: 15,\n    fontSize: 12\n  },\n  textgroupTitle: {\n    fontSize: 12,\n    fontWeight: 400,\n    color: '#828282',\n    lineHeight: '14px',\n    marginBottom: 8\n  },\n  testgroupContent: {\n    display: 'flex',\n    alignItems: 'center'\n  }\n}));\n\ntype StakeTye = 'stake' | 'unstake';\n\nexport const TextGroup = props => {\n  const classes = useStyles();\n\n  return (\n    <div>\n      <div className={classes.textgroupTitle}>{props.title}</div>\n      <div className={classes.testgroupContent}>{props.children}</div>\n    </div>\n  );\n};\n\nconst StakeView: FC = () => {\n  const classes = useStyles();\n  const state = useStakeState();\n  const { sourceToken, targetToken, account } = state;\n  const { t } = useTranslation();\n\n  const [type, setType] = useState<boolean>(true);\n\n  const handleTypeChange = useCallback(e => {\n    setType(e.target.checked);\n  }, []);\n\n  return (\n    <Page className={classes.root} title=\"Stake\">\n      <Container maxWidth={false}>\n        <Header title={t('mine.title.second')} />\n        <Breadcrumbs aria-label=\"breadcrumb\">\n          <Link color=\"inherit\" href=\"/#/mine\" onClick={() => {}}>\n            {t('menu.mine')}\n          </Link>\n          <Link color=\"textPrimary\" aria-current=\"page\">\n            {t('mine.page.' + (type ? 'stake' :'unstake'))}\n          </Link>\n        </Breadcrumbs>\n        <Box mt={3}></Box>\n        <Divider />\n        <Card>\n          <CardHeader\n            title={\n              <>\n                <Box display=\"flex\" justifyContent=\"space-between\">\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <TextGroup title={t('mine.staking.stake')}>\n                      <Avatar\n                        className={classes.icon}\n                        src={sourceToken.logoURI}\n                      />\n                      <span className={classes.text}>{sourceToken.name}</span>\n                    </TextGroup>\n                    <TextGroup title={t('mine.staking.mines')}>\n                      <Avatar\n                        className={classes.icon}\n                        src={targetToken.logoURI}\n                      />\n                      <span className={classes.text}>{targetToken.name}</span>\n                    </TextGroup>\n                  </Box>\n                  <Box>\n                    {type ? t('mine.staking.stake') : t('mine.staking.unstake')}\n                    <Switch\n                      defaultChecked\n                      color=\"default\"\n                      inputProps={{ 'aria-label': t('mine.staking.stake') }}\n                      value={type}\n                      onChange={handleTypeChange}\n                    />\n                  </Box>\n                </Box>\n              </>\n            }\n          ></CardHeader>\n          <CardContent>\n            {!account && t('global.loginFirst')}\n            {account && type && <StakeContent state={state} />}\n            {account && !type && <UnstakeContent state={state} />}\n          </CardContent>\n        </Card>\n      </Container>\n    </Page>\n  );\n};\n\nexport default StakeView;\n","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n}), 'MoreHoriz');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '../styles/withStyles';\nimport { emphasize } from '../styles/colorManipulator';\nimport MoreHorizIcon from '../internal/svg-icons/MoreHoriz';\nimport ButtonBase from '../ButtonBase';\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      display: 'flex',\n      marginLeft: theme.spacing(0.5),\n      marginRight: theme.spacing(0.5),\n      backgroundColor: theme.palette.grey[100],\n      color: theme.palette.grey[700],\n      borderRadius: 2,\n      cursor: 'pointer',\n      '&:hover, &:focus': {\n        backgroundColor: theme.palette.grey[200]\n      },\n      '&:active': {\n        boxShadow: theme.shadows[0],\n        backgroundColor: emphasize(theme.palette.grey[200], 0.12)\n      }\n    },\n    icon: {\n      width: 24,\n      height: 16\n    }\n  };\n};\n/**\n * @ignore - internal component.\n */\n\n\nfunction BreadcrumbCollapsed(props) {\n  var classes = props.classes,\n      other = _objectWithoutProperties(props, [\"classes\"]);\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    component: \"li\",\n    className: classes.root,\n    focusRipple: true\n  }, other), /*#__PURE__*/React.createElement(MoreHorizIcon, {\n    className: classes.icon\n  }));\n}\n\nprocess.env.NODE_ENV !== \"production\" ? BreadcrumbCollapsed.propTypes = {\n  /**\n   * @ignore\n   */\n  classes: PropTypes.object.isRequired\n} : void 0;\nexport default withStyles(styles, {\n  name: 'PrivateBreadcrumbCollapsed'\n})(BreadcrumbCollapsed);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nimport BreadcrumbCollapsed from './BreadcrumbCollapsed';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {},\n\n  /* Styles applied to the ol element. */\n  ol: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    padding: 0,\n    margin: 0,\n    listStyle: 'none'\n  },\n\n  /* Styles applied to the li element. */\n  li: {},\n\n  /* Styles applied to the separator element. */\n  separator: {\n    display: 'flex',\n    userSelect: 'none',\n    marginLeft: 8,\n    marginRight: 8\n  }\n};\n\nfunction insertSeparators(items, className, separator) {\n  return items.reduce(function (acc, current, index) {\n    if (index < items.length - 1) {\n      acc = acc.concat(current, /*#__PURE__*/React.createElement(\"li\", {\n        \"aria-hidden\": true,\n        key: \"separator-\".concat(index),\n        className: className\n      }, separator));\n    } else {\n      acc.push(current);\n    }\n\n    return acc;\n  }, []);\n}\n\nvar Breadcrumbs = /*#__PURE__*/React.forwardRef(function Breadcrumbs(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'nav' : _props$component,\n      _props$expandText = props.expandText,\n      expandText = _props$expandText === void 0 ? 'Show path' : _props$expandText,\n      _props$itemsAfterColl = props.itemsAfterCollapse,\n      itemsAfterCollapse = _props$itemsAfterColl === void 0 ? 1 : _props$itemsAfterColl,\n      _props$itemsBeforeCol = props.itemsBeforeCollapse,\n      itemsBeforeCollapse = _props$itemsBeforeCol === void 0 ? 1 : _props$itemsBeforeCol,\n      _props$maxItems = props.maxItems,\n      maxItems = _props$maxItems === void 0 ? 8 : _props$maxItems,\n      _props$separator = props.separator,\n      separator = _props$separator === void 0 ? '/' : _props$separator,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"component\", \"expandText\", \"itemsAfterCollapse\", \"itemsBeforeCollapse\", \"maxItems\", \"separator\"]);\n\n  var _React$useState = React.useState(false),\n      expanded = _React$useState[0],\n      setExpanded = _React$useState[1];\n\n  var renderItemsBeforeAndAfter = function renderItemsBeforeAndAfter(allItems) {\n    var handleClickExpand = function handleClickExpand(event) {\n      setExpanded(true); // The clicked element received the focus but gets removed from the DOM.\n      // Let's keep the focus in the component after expanding.\n\n      var focusable = event.currentTarget.parentNode.querySelector('a[href],button,[tabindex]');\n\n      if (focusable) {\n        focusable.focus();\n      }\n    }; // This defends against someone passing weird input, to ensure that if all\n    // items would be shown anyway, we just show all items without the EllipsisItem\n\n\n    if (itemsBeforeCollapse + itemsAfterCollapse >= allItems.length) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error(['Material-UI: You have provided an invalid combination of props to the Breadcrumbs.', \"itemsAfterCollapse={\".concat(itemsAfterCollapse, \"} + itemsBeforeCollapse={\").concat(itemsBeforeCollapse, \"} >= maxItems={\").concat(maxItems, \"}\")].join('\\n'));\n      }\n\n      return allItems;\n    }\n\n    return [].concat(_toConsumableArray(allItems.slice(0, itemsBeforeCollapse)), [/*#__PURE__*/React.createElement(BreadcrumbCollapsed, {\n      \"aria-label\": expandText,\n      key: \"ellipsis\",\n      onClick: handleClickExpand\n    })], _toConsumableArray(allItems.slice(allItems.length - itemsAfterCollapse, allItems.length)));\n  };\n\n  var allItems = React.Children.toArray(children).filter(function (child) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFragment(child)) {\n        console.error([\"Material-UI: The Breadcrumbs component doesn't accept a Fragment as a child.\", 'Consider providing an array instead.'].join('\\n'));\n      }\n    }\n\n    return /*#__PURE__*/React.isValidElement(child);\n  }).map(function (child, index) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: classes.li,\n      key: \"child-\".concat(index)\n    }, child);\n  });\n  return /*#__PURE__*/React.createElement(Typography, _extends({\n    ref: ref,\n    component: Component,\n    color: \"textSecondary\",\n    className: clsx(classes.root, className)\n  }, other), /*#__PURE__*/React.createElement(\"ol\", {\n    className: classes.ol\n  }, insertSeparators(expanded || maxItems && allItems.length <= maxItems ? allItems : renderItemsBeforeAndAfter(allItems), classes.separator, separator)));\n});\nprocess.env.NODE_ENV !== \"production\" ? Breadcrumbs.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The breadcrumb children.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Override the default label for the expand button.\n   *\n   * For localization purposes, you can use the provided [translations](/guides/localization/).\n   */\n  expandText: PropTypes.string,\n\n  /**\n   * If max items is exceeded, the number of items to show after the ellipsis.\n   */\n  itemsAfterCollapse: PropTypes.number,\n\n  /**\n   * If max items is exceeded, the number of items to show before the ellipsis.\n   */\n  itemsBeforeCollapse: PropTypes.number,\n\n  /**\n   * Specifies the maximum number of breadcrumbs to display. When there are more\n   * than the maximum number, only the first `itemsBeforeCollapse` and last `itemsAfterCollapse`\n   * will be shown, with an ellipsis in between.\n   */\n  maxItems: PropTypes.number,\n\n  /**\n   * Custom separator node.\n   */\n  separator: PropTypes.node\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiBreadcrumbs'\n})(Breadcrumbs);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport useControlled from '../utils/useControlled';\nimport useFormControl from '../FormControl/useFormControl';\nimport withStyles from '../styles/withStyles';\nimport IconButton from '../IconButton';\nexport var styles = {\n  root: {\n    padding: 9\n  },\n  checked: {},\n  disabled: {},\n  input: {\n    cursor: 'inherit',\n    position: 'absolute',\n    opacity: 0,\n    width: '100%',\n    height: '100%',\n    top: 0,\n    left: 0,\n    margin: 0,\n    padding: 0,\n    zIndex: 1\n  }\n};\n/**\n * @ignore - internal component.\n */\n\nvar SwitchBase = /*#__PURE__*/React.forwardRef(function SwitchBase(props, ref) {\n  var autoFocus = props.autoFocus,\n      checkedProp = props.checked,\n      checkedIcon = props.checkedIcon,\n      classes = props.classes,\n      className = props.className,\n      defaultChecked = props.defaultChecked,\n      disabledProp = props.disabled,\n      icon = props.icon,\n      id = props.id,\n      inputProps = props.inputProps,\n      inputRef = props.inputRef,\n      name = props.name,\n      onBlur = props.onBlur,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      readOnly = props.readOnly,\n      required = props.required,\n      tabIndex = props.tabIndex,\n      type = props.type,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"autoFocus\", \"checked\", \"checkedIcon\", \"classes\", \"className\", \"defaultChecked\", \"disabled\", \"icon\", \"id\", \"inputProps\", \"inputRef\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"readOnly\", \"required\", \"tabIndex\", \"type\", \"value\"]);\n\n  var _useControlled = useControlled({\n    controlled: checkedProp,\n    default: Boolean(defaultChecked),\n    name: 'SwitchBase',\n    state: 'checked'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      checked = _useControlled2[0],\n      setCheckedState = _useControlled2[1];\n\n  var muiFormControl = useFormControl();\n\n  var handleFocus = function handleFocus(event) {\n    if (onFocus) {\n      onFocus(event);\n    }\n\n    if (muiFormControl && muiFormControl.onFocus) {\n      muiFormControl.onFocus(event);\n    }\n  };\n\n  var handleBlur = function handleBlur(event) {\n    if (onBlur) {\n      onBlur(event);\n    }\n\n    if (muiFormControl && muiFormControl.onBlur) {\n      muiFormControl.onBlur(event);\n    }\n  };\n\n  var handleInputChange = function handleInputChange(event) {\n    var newChecked = event.target.checked;\n    setCheckedState(newChecked);\n\n    if (onChange) {\n      // TODO v5: remove the second argument.\n      onChange(event, newChecked);\n    }\n  };\n\n  var disabled = disabledProp;\n\n  if (muiFormControl) {\n    if (typeof disabled === 'undefined') {\n      disabled = muiFormControl.disabled;\n    }\n  }\n\n  var hasLabelFor = type === 'checkbox' || type === 'radio';\n  return /*#__PURE__*/React.createElement(IconButton, _extends({\n    component: \"span\",\n    className: clsx(classes.root, className, checked && classes.checked, disabled && classes.disabled),\n    disabled: disabled,\n    tabIndex: null,\n    role: undefined,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"input\", _extends({\n    autoFocus: autoFocus,\n    checked: checkedProp,\n    defaultChecked: defaultChecked,\n    className: classes.input,\n    disabled: disabled,\n    id: hasLabelFor && id,\n    name: name,\n    onChange: handleInputChange,\n    readOnly: readOnly,\n    ref: inputRef,\n    required: required,\n    tabIndex: tabIndex,\n    type: type,\n    value: value\n  }, inputProps)), checked ? checkedIcon : icon);\n}); // NB: If changed, please update Checkbox, Switch and Radio\n// so that the API documentation is updated.\n\nprocess.env.NODE_ENV !== \"production\" ? SwitchBase.propTypes = {\n  /**\n   * If `true`, the `input` element will be focused during the first mount.\n   */\n  autoFocus: PropTypes.bool,\n\n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * The icon to display when the component is checked.\n   */\n  checkedIcon: PropTypes.node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  defaultChecked: PropTypes.bool,\n\n  /**\n   * If `true`, the switch will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * The icon to display when the component is unchecked.\n   */\n  icon: PropTypes.node.isRequired,\n\n  /**\n   * The id of the `input` element.\n   */\n  id: PropTypes.string,\n\n  /**\n   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.\n   */\n  inputProps: PropTypes.object,\n\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: refType,\n\n  /*\n   * @ignore\n   */\n  name: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * You can pull out the new checked state by accessing `event.target.checked` (boolean).\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * It prevents the user from changing the value of the field\n   * (not from interacting with the field).\n   */\n  readOnly: PropTypes.bool,\n\n  /**\n   * If `true`, the `input` element will be required.\n   */\n  required: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The input component prop `type`.\n   */\n  type: PropTypes.string.isRequired,\n\n  /**\n   * The value of the component.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default withStyles(styles, {\n  name: 'PrivateSwitchBase'\n})(SwitchBase);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n// @inheritedComponent IconButton\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport { fade } from '../styles/colorManipulator';\nimport capitalize from '../utils/capitalize';\nimport SwitchBase from '../internal/SwitchBase';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      width: 34 + 12 * 2,\n      height: 14 + 12 * 2,\n      overflow: 'hidden',\n      padding: 12,\n      boxSizing: 'border-box',\n      position: 'relative',\n      flexShrink: 0,\n      zIndex: 0,\n      // Reset the stacking context.\n      verticalAlign: 'middle',\n      // For correct alignment with the text.\n      '@media print': {\n        colorAdjust: 'exact'\n      }\n    },\n\n    /* Styles applied to the root element if `edge=\"start\"`. */\n    edgeStart: {\n      marginLeft: -8\n    },\n\n    /* Styles applied to the root element if `edge=\"end\"`. */\n    edgeEnd: {\n      marginRight: -8\n    },\n\n    /* Styles applied to the internal `SwitchBase` component's `root` class. */\n    switchBase: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      zIndex: 1,\n      // Render above the focus ripple.\n      color: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[400],\n      transition: theme.transitions.create(['left', 'transform'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      '&$checked': {\n        transform: 'translateX(20px)'\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        opacity: 0.5\n      },\n      '&$disabled + $track': {\n        opacity: theme.palette.type === 'light' ? 0.12 : 0.1\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"primary\"`. */\n    colorPrimary: {\n      '&$checked': {\n        color: theme.palette.primary.main,\n        '&:hover': {\n          backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        backgroundColor: theme.palette.primary.main\n      },\n      '&$disabled + $track': {\n        backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      '&$checked': {\n        color: theme.palette.secondary.main,\n        '&:hover': {\n          backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        backgroundColor: theme.palette.secondary.main\n      },\n      '&$disabled + $track': {\n        backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white\n      }\n    },\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      width: 40,\n      height: 24,\n      padding: 7,\n      '& $thumb': {\n        width: 16,\n        height: 16\n      },\n      '& $switchBase': {\n        padding: 4,\n        '&$checked': {\n          transform: 'translateX(16px)'\n        }\n      }\n    },\n\n    /* Pseudo-class applied to the internal `SwitchBase` component's `checked` class. */\n    checked: {},\n\n    /* Pseudo-class applied to the internal SwitchBase component's disabled class. */\n    disabled: {},\n\n    /* Styles applied to the internal SwitchBase component's input element. */\n    input: {\n      left: '-100%',\n      width: '300%'\n    },\n\n    /* Styles used to create the thumb passed to the internal `SwitchBase` component `icon` prop. */\n    thumb: {\n      boxShadow: theme.shadows[1],\n      backgroundColor: 'currentColor',\n      width: 20,\n      height: 20,\n      borderRadius: '50%'\n    },\n\n    /* Styles applied to the track element. */\n    track: {\n      height: '100%',\n      width: '100%',\n      borderRadius: 14 / 2,\n      zIndex: -1,\n      transition: theme.transitions.create(['opacity', 'background-color'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white,\n      opacity: theme.palette.type === 'light' ? 0.38 : 0.3\n    }\n  };\n};\nvar Switch = /*#__PURE__*/React.forwardRef(function Switch(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'secondary' : _props$color,\n      _props$edge = props.edge,\n      edge = _props$edge === void 0 ? false : _props$edge,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"edge\", \"size\"]);\n\n  var icon = /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.thumb\n  });\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.root, className, {\n      'start': classes.edgeStart,\n      'end': classes.edgeEnd\n    }[edge], size === \"small\" && classes[\"size\".concat(capitalize(size))])\n  }, /*#__PURE__*/React.createElement(SwitchBase, _extends({\n    type: \"checkbox\",\n    icon: icon,\n    checkedIcon: icon,\n    classes: {\n      root: clsx(classes.switchBase, classes[\"color\".concat(capitalize(color))]),\n      input: classes.input,\n      checked: classes.checked,\n      disabled: classes.disabled\n    },\n    ref: ref\n  }, other)), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.track\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Switch.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * The icon to display when the component is checked.\n   */\n  checkedIcon: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'primary', 'secondary']),\n\n  /**\n   * @ignore\n   */\n  defaultChecked: PropTypes.bool,\n\n  /**\n   * If `true`, the switch will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * If given, uses a negative margin to counteract the padding on one\n   * side (this is often helpful for aligning the left or right\n   * side of the icon with content above or below, without ruining the border\n   * size and shape).\n   */\n  edge: PropTypes.oneOf(['end', 'start', false]),\n\n  /**\n   * The icon to display when the component is unchecked.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * The id of the `input` element.\n   */\n  id: PropTypes.string,\n\n  /**\n   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.\n   */\n  inputProps: PropTypes.object,\n\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: refType,\n\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * You can pull out the new value by accessing `event.target.value` (string).\n   * You can pull out the new checked state by accessing `event.target.checked` (boolean).\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * If `true`, the `input` element will be required.\n   */\n  required: PropTypes.bool,\n\n  /**\n   * The size of the switch.\n   * `small` is equivalent to the dense switch styling.\n   */\n  size: PropTypes.oneOf(['medium', 'small']),\n\n  /**\n   * The value of the component. The DOM API casts this to a string.\n   * The browser uses \"on\" as the default value.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSwitch'\n})(Switch);"],"sourceRoot":""}